"use strict";(self.webpackChunkgbf_frontend=self.webpackChunkgbf_frontend||[]).push([[145],{645(t,e,o){o.r(e),o.d(e,{default:()=>r});var s=o(9204),n=o(1770),i=o(5943);const _=new s.A.LocalStorageMgt("CalcGW"),a=[{name:"Ex",cost_ap:30,cost_meat:0,cost_ep:1,honor:51e3,token_host:22,token_join:20,token_1:14,token_2:0,token_3:0},{name:"Ex+",cost_ap:30,cost_meat:0,cost_ep:1,honor:88e3,token_host:26,token_join:20,token_1:20,token_2:0,token_3:0},{name:"NM 90",cost_ap:30,cost_meat:5,cost_ep:2,honor:26e4,token_host:45,token_join:20,token_1:18,token_2:10,token_3:5},{name:"NM 95",cost_ap:40,cost_meat:10,cost_ep:3,honor:91e4,token_host:55,token_join:30,token_1:26,token_2:18,token_3:10},{name:"NM 100",cost_ap:50,cost_meat:20,cost_ep:3,honor:265e4,token_host:80,token_join:48,token_1:40,token_2:30,token_3:20},{name:"NM 150",cost_ap:50,cost_meat:20,cost_ep:3,honor:41e5,token_host:120,token_join:85,token_1:52,token_2:42,token_3:30},{name:"NM 200",cost_ap:50,cost_meat:20,cost_ep:3,honor:1335e4,token_host:160,token_join:110,token_1:68,token_2:0,token_3:0}],h={components:{Checkbox:n.A,Dropdown:i.A},head:{title:"Granblue.Party - Guild Wars Tokens Calculator",desc:"Calculator for Guild Wars tokens and boxes",image:"https://www.granblue.party/img/card_calcgw.jpg",keywords:"Guild Wars, GW, Unite and Fight, U&F, 40 boxes, calculator, eternals, meat, gold bar"},data:()=>({boxes_needed:40,boxes_opened:0,total_honor:0,tokens_explained:"",tokens_obtained:0,tokens_total:0,show_fight:[!1,!0,!0,!0,!0,!0,!0],time_fight_ex:[15,15],time_fight_raid:[30,120,300,300,420],quota_fight_raid:[0,40,0,30,30],meat_fight:[5,6.5],chosen_ex:1,show_host:!0,show_join:!0,add_honor:!1,show_result_2nd:!1,show_result_3rd:!1,show_result_other:!0}),methods:{showFight(t){this.$set(this.show_fight,t,!this.show_fight[t])},getFightData(t){let e=[];const o=1+(t.token_2>0&&this.show_result_2nd?1:0)+(t.token_3>0&&this.show_result_3rd?1:0)+(this.show_result_other?1:0);return this.show_host&&(e.push({type:"Host",type_rows:o,finish:"MVP",token:t.token_host+t.token_join+t.token_1+(this.add_honor?60*t.honor/1e6:0),cost_ap:t.cost_ap,cost_meat:t.cost_meat}),t.token_2>0&&this.show_result_2nd&&e.push({finish:"2nd",token:t.token_host+t.token_join+t.token_2+(this.add_honor?60*t.honor/1e6:0),cost_ap:t.cost_ap,cost_meat:t.cost_meat}),t.token_3>0&&this.show_result_3rd&&e.push({finish:"3rd",token:t.token_host+t.token_join+t.token_3+(this.add_honor?60*t.honor/1e6:0),cost_ap:t.cost_ap,cost_meat:t.cost_meat}),this.show_result_other&&e.push({finish:"",token:t.token_host+t.token_join+(this.add_honor?60*t.honor/1e6:0),cost_ap:t.cost_ap,cost_meat:t.cost_meat})),this.show_join&&(e.push({type:"Join",type_rows:o,finish:"MVP",token:t.token_join+t.token_1+(this.add_honor?60*t.honor/1e6:0),cost_ep:t.cost_ep}),t.token_2>0&&this.show_result_2nd&&e.push({finish:"2nd",token:t.token_join+t.token_2+(this.add_honor?60*t.honor/1e6:0),cost_ep:t.cost_ep}),t.token_3>0&&this.show_result_3rd&&e.push({finish:"3rd",token:t.token_join+t.token_3+(this.add_honor?60*t.honor/1e6:0),cost_ep:t.cost_ep}),this.show_result_other&&e.push({finish:"",token:t.token_join+(this.add_honor?60*t.honor/1e6:0),cost_ep:t.cost_ep})),e.length>0&&(e[0].name=t.name,e[0].name_rows=o*(this.show_host&&this.show_join?2:1),e[0].honor=t.honor,e[0].honor_rows=o*(this.show_host&&this.show_join?2:1)),e}},computed:{getData(){return a.flatMap((t,e)=>this.show_fight[e]?this.getFightData(t):[])},getFightNames:()=>a.map(t=>t.name),getBoxesNeeded(){return parseInt(this.boxes_needed,10)},getBoxesOpened(){return parseInt(this.boxes_opened,10)},getTokensObtained(){return parseInt(this.tokens_obtained,10)},getTotalHonor(){return parseInt(this.total_honor,10)},getProgress(){let t=(100-this.tokens_needed/this.tokens_total*100).toFixed(2);return 0==this.tokens_total?100..toFixed(2):t},tokens_needed(){let t=0,e=this.getBoxesNeeded-this.getBoxesOpened;this.tokens_explained="",1===e?this.tokens_explained=e+" box = (":e>1&&(this.tokens_explained=e+" boxes = (");let o=!1;if(0===this.getBoxesOpened&&e>0&&(t+=1600,e--,this.tokens_explained+="1600",o=!0),this.getBoxesOpened<4&&e>0){const s=Math.min(3,e,4-this.getBoxesOpened);t+=2400*s,e-=s,this.tokens_explained+=(o?" + ":"")+s+"x2400",o=!0}if(this.getBoxesOpened<45&&e>0){const s=Math.min(41,e,45-this.getBoxesOpened);t+=2e3*s,e-=s,this.tokens_explained+=(o?" + ":"")+s+"x2000",o=!0}if(this.getBoxesOpened<80&&e>0){const s=Math.min(35,e,80-this.getBoxesOpened);t+=1e4*s,e-=s,this.tokens_explained+=(o?" + ":"")+s+"x10000",o=!0}e>0&&(t+=15e3*e,this.tokens_explained+=(o?" + ":"")+e+"x15000"),this.tokens_total=t,this.tokens_explained&&(this.tokens_explained+=" tokens)"),this.getTokensObtained>0&&(t-=this.getTokensObtained,this.tokens_total>0&&(this.tokens_explained+=" - "+this.getTokensObtained,this.getTokensObtained>1?this.tokens_explained+=" tokens obtained":this.tokens_explained+=" token obtained"));const s=Math.floor(60*this.getTotalHonor/1e6);return s>0&&(t-=s,this.tokens_total>0&&(this.tokens_explained+=" - "+s,this.tokens_explained+=s>1?" final rally tokens":" final rally token")),Math.max(0,t)},getExFights(){return this.getAllFights.slice(0,2)},getRaidFights(){return this.getAllFights.slice(2,a.length)},getTotalFights(){return this.getAllFights[this.getAllFights.length-1]},getTotalQuota(){return this.quota_fight_raid.reduce((t,e)=>t+e)},getAllFights(){let t=a.map(t=>({name:t.name,fights:0,meat:0,tokens:0,honor:0,time:0,pots:0}));t.push({name:"Total",fights:0,meat:0,tokens:0,honor:0,time:0,pots:0});let e=this.tokens_needed;const o=a[this.chosen_ex];for(let s=0;s<a.length-2;s++){if(0===this.quota_fight_raid[s]){t[s+2].fights=0;continue}const n=a[s+2],i=n.token_host+n.token_join+n.token_1+60*n.honor/1e6,_=n.cost_meat/this.meat_fight[this.chosen_ex],h=o.token_host+o.token_join+o.token_1+60*o.honor/1e6,r=i+_*h,l=Math.ceil(e/r*(this.quota_fight_raid[s]/100)),d=Math.ceil(l*_);t[s+2].fights=l,t[s+2].meat=-n.cost_meat*l,t[s+2].tokens=Math.floor(i*l),t[s+2].honor=Math.floor(n.honor*l),t[s+2].time=this.time_fight_raid[s]*l,t[s+2].pots=Math.ceil(n.cost_ap*l/75),t[this.chosen_ex].fights+=d,t[this.chosen_ex].meat+=this.meat_fight[this.chosen_ex]*d,t[this.chosen_ex].tokens+=Math.floor(h*d),t[this.chosen_ex].honor+=Math.floor(o.honor*d),t[this.chosen_ex].time+=this.time_fight_ex[this.chosen_ex]*d,t[this.chosen_ex].pots+=o.cost_ap*d/75}for(let e=0;e<a.length;e++)t[t.length-1].fights+=t[e].fights,t[t.length-1].meat+=t[e].meat,t[t.length-1].tokens+=t[e].tokens,t[t.length-1].honor+=t[e].honor,t[t.length-1].time+=t[e].time,t[t.length-1].pots+=t[e].pots,t[e].honor>=1e6&&(t[e].honor=(t[e].honor/1e6).toFixed(2)+"m"),t[e].time=s.A.toReadableTime(t[e].time);return t[t.length-1].honor>=1e6&&(t[t.length-1].honor=(t[t.length-1].honor/1e6).toFixed(2)+"m"),t[t.length-1].time=s.A.toReadableTime(t[t.length-1].time),t}},watch:{boxes_needed(){_.setValue("boxes_needed",this)},boxes_opened(){_.setValue("boxes_opened",this)},show_fight(){_.setValue("show_fight",this)},show_host(){_.setValue("show_host",this)},show_join(){_.setValue("show_join",this)},tokens_obtained(){_.setValue("tokens_obtained",this)},total_honor(){_.setValue("total_honor",this)},add_honor(){_.setValue("add_honor",this)},show_result_2nd(){_.setValue("show_result_2nd",this)},show_result_3rd(){_.setValue("show_result_3rd",this)},show_result_other(){_.setValue("show_result_other",this)},time_fight_ex(){_.setValue("time_fight_ex",this)},time_fight_raid(){_.setValue("time_fight_raid",this)},quota_fight_raid(){_.setValue("quota_fight_raid",this)},meat_fight(){_.setValue("meat_fight",this)},chosen_ex(){_.setValue("chosen_ex",this)}},mounted(){_.getValue(this,"boxes_needed"),_.getValue(this,"boxes_opened"),_.getValue(this,"show_fight"),_.getValue(this,"show_host"),_.getValue(this,"show_join"),_.getValue(this,"tokens_obtained"),_.getValue(this,"total_honor"),_.getValue(this,"add_honor"),_.getValue(this,"show_result_2nd"),_.getValue(this,"show_result_3rd"),_.getValue(this,"show_result_other"),_.getValue(this,"time_fight_ex"),_.getValue(this,"time_fight_raid"),_.getValue(this,"quota_fight_raid"),_.getValue(this,"meat_fight"),_.getValue(this,"chosen_ex")}},r=(0,o(4486).A)(h,function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex flex-col items-center"},[e("h1",{staticClass:"mb-8"},[t._v("Guild Wars tokens and boxes Calculator")]),e("div",{staticClass:"flex flex-col gap-x-4"},[e("span",{staticClass:"flex flex-row flex-wrap items-center gap-4"},[e("label",[t._v("Boxes needed "),e("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.boxes_needed,expression:"boxes_needed",modifiers:{lazy:!0}}],staticClass:"input input-sm",staticStyle:{width:"7ch"},attrs:{type:"number",min:"1"},domProps:{value:t.boxes_needed},on:{change:function(e){t.boxes_needed=e.target.value}}})]),e("label",[t._v("Already opened "),e("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.boxes_opened,expression:"boxes_opened",modifiers:{lazy:!0}}],staticClass:"input input-sm",staticStyle:{width:"7ch"},attrs:{type:"number",min:"0"},domProps:{value:t.boxes_opened},on:{change:function(e){t.boxes_opened=e.target.value}}})]),e("span",[t._v("Progress: "+t._s(t.getProgress)+"%")])]),e("span",{staticClass:"flex flex-row flex-wrap items-center gap-4"},[e("label",[t._v("Tokens obtained "),e("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.tokens_obtained,expression:"tokens_obtained",modifiers:{lazy:!0}}],staticClass:"input input-sm",staticStyle:{width:"10ch"},attrs:{type:"number",min:"0"},domProps:{value:t.tokens_obtained},on:{change:function(e){t.tokens_obtained=e.target.value}}})]),e("span",[e("label",[t._v("Total honor "),e("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.total_honor,expression:"total_honor",modifiers:{lazy:!0}}],staticClass:"input input-sm",staticStyle:{width:"14ch"},attrs:{type:"number",min:"0"},domProps:{value:t.total_honor},on:{change:function(e){t.total_honor=e.target.value}}})]),t._v(" "+t._s(t.total_honor>=1e6?"(â‰ˆ"+(t.total_honor/1e6).toFixed(2)+"m)":"")+" ")])])]),e("div",{staticClass:"flex flex-col mb-8 gap-x-4"},[e("span",[t._v(t._s(t.tokens_explained))]),e("span",{staticClass:"text-lg font-bold"},[t._v("Tokens needed: "+t._s(t.tokens_needed))])]),e("h2",{staticClass:"mb-4"},[t._v("Farming time calculator (input in seconds):")]),e("div",{staticClass:"overflow-y-auto w-full"},[e("table",{staticClass:"table bg-secondary table-px w-auto ml-auto mr-auto mb-4"},[t._m(0),e("tbody",[e("tr",[e("td"),e("td",[e("dropdown",{model:{value:t.chosen_ex,callback:function(e){t.chosen_ex=t._n(e)},expression:"chosen_ex"}},t._l(t.getExFights,function(o,s){return e("option",{key:s,domProps:{value:s}},[t._v(t._s(o.name))])}),0)],1),e("td",[e("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.time_fight_ex[t.chosen_ex],expression:"time_fight_ex[chosen_ex]",modifiers:{lazy:!0}}],staticClass:"input input-sm",staticStyle:{width:"7ch"},attrs:{type:"number",min:"1"},domProps:{value:t.time_fight_ex[t.chosen_ex]},on:{change:function(e){return t.$set(t.time_fight_ex,t.chosen_ex,e.target.value)}}})]),e("td",[t._v(t._s(t.getExFights[t.chosen_ex].fights))]),e("td",[t._v(t._s(t.getExFights[t.chosen_ex].tokens))]),e("td",[t._v(t._s(t.getExFights[t.chosen_ex].honor))]),e("td",[t._v(t._s(t.getExFights[t.chosen_ex].time))]),e("td",[t._v(t._s(Math.ceil(t.getExFights[t.chosen_ex].pots)))]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model.lazy.number",value:t.meat_fight[t.chosen_ex],expression:"meat_fight[chosen_ex]",modifiers:{lazy:!0,number:!0}}],staticClass:"input input-sm",staticStyle:{width:"7ch"},attrs:{type:"number",min:"1",step:".5"},domProps:{value:t.meat_fight[t.chosen_ex]},on:{change:function(e){t.$set(t.meat_fight,t.chosen_ex,t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),e("td",[t._v(t._s(t.getExFights[t.chosen_ex].meat))])]),t._l(t.getRaidFights,function(o,s){return e("tr",{key:s},[e("td",[e("input",{directives:[{name:"model",rawName:"v-model.lazy.number",value:t.quota_fight_raid[s],expression:"quota_fight_raid[index]",modifiers:{lazy:!0,number:!0}}],staticClass:"input input-sm",staticStyle:{width:"7ch"},attrs:{type:"number",min:"0",max:"100"},domProps:{value:t.quota_fight_raid[s]},on:{change:function(e){t.$set(t.quota_fight_raid,s,t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),e("td",[t._v(t._s(o.name))]),e("td",[e("input",{directives:[{name:"model",rawName:"v-model.lazy.number",value:t.time_fight_raid[s],expression:"time_fight_raid[index]",modifiers:{lazy:!0,number:!0}}],staticClass:"input input-sm",staticStyle:{width:"7ch"},attrs:{type:"number",min:"1"},domProps:{value:t.time_fight_raid[s]},on:{change:function(e){t.$set(t.time_fight_raid,s,t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}})]),e("td",[t._v(t._s(t.quota_fight_raid[s]>0?o.fights:""))]),e("td",[t._v(t._s(t.quota_fight_raid[s]>0?o.tokens:""))]),e("td",[t._v(t._s(t.quota_fight_raid[s]>0?o.honor:""))]),e("td",[t._v(t._s(t.quota_fight_raid[s]>0?o.time:""))]),e("td",[t._v(t._s(t.quota_fight_raid[s]>0?o.pots:""))]),e("td"),e("td",[t._v(t._s(t.quota_fight_raid[s]>0?o.meat:""))])])}),e("tr",[e("td"),t._m(1),e("td"),e("td",[t._v(t._s(t.getTotalFights.fights))]),e("td",[t._v(t._s(t.getTotalFights.tokens))]),e("td",[t._v(t._s(t.getTotalFights.honor))]),e("td",[t._v(t._s(t.getTotalFights.time))]),e("td",[t._v(t._s(Math.ceil(t.getTotalFights.pots)))]),e("td"),e("td",[t._v(t._s(t.getTotalFights.meat))])])],2)])]),e("div",{staticClass:"mb-8"},[100!=t.getTotalQuota?e("h3",{staticClass:"text-rose-600"},[t._v(" The sum of all % must be 100 ")]):t._e()]),e("div",{staticClass:"flex flex-row flex-wrap items-center gap-4"},[e("span",{staticClass:"flex flex-row flex-wrap btn-group items-center"},[e("span",{staticClass:"mr-2"},[t._v("Fight")]),t._l(t.getFightNames,function(o,s){return e("button",{key:s,staticClass:"btn btn-sm",class:t.show_fight[s]?"btn-blue":"btn-white",on:{click:function(e){return t.showFight(s)}}},[t._v(" "+t._s(o)+" ")])})],2),e("span",{staticClass:"flex flex-row flex-wrap btn-group items-center"},[e("span",{staticClass:"mr-2"},[t._v("Type")]),e("button",{staticClass:"btn btn-sm",class:t.show_host?"btn-blue":"btn-white",on:{click:function(e){t.show_host=!t.show_host}}},[t._v(" Host ")]),e("button",{staticClass:"btn btn-sm",class:t.show_join?"btn-blue":"btn-white",on:{click:function(e){t.show_join=!t.show_join}}},[t._v(" Join ")])]),e("checkbox",{model:{value:t.add_honor,callback:function(e){t.add_honor=e},expression:"add_honor"}},[t._v("Include honor to tokens sum")])],1),e("div",{staticClass:"flex flex-row flex-wrap mb-4 items-center gap-4"},[t._v(" Show results for "),e("checkbox",{staticClass:"ordinal",model:{value:t.show_result_2nd,callback:function(e){t.show_result_2nd=e},expression:"show_result_2nd"}},[t._v("2nd")]),e("checkbox",{staticClass:"ordinal",model:{value:t.show_result_3rd,callback:function(e){t.show_result_3rd=e},expression:"show_result_3rd"}},[t._v("3rd")]),e("checkbox",{model:{value:t.show_result_other,callback:function(e){t.show_result_other=e},expression:"show_result_other"}},[t._v("Other")])],1),e("div",{staticClass:"overflow-y-auto w-full"},[e("table",{staticClass:"table table-striped bg-secondary table-px w-auto ml-auto mr-auto"},[e("thead",[e("tr",[e("th",[t._v("Name")]),e("th",[t._v("Solo honor")]),t.show_host&&t.show_join?e("th"):t._e(),t.show_result_2nd||t.show_result_3rd||t.show_result_other?e("th"):t._e(),e("th",[t._v("Tokens")]),t.show_host?e("th",[t._v("Tokens/AP")]):t._e(),t.show_host?e("th",[t._v("Tokens/meat")]):t._e(),t.show_join?e("th",[t._v("Tokens/EP")]):t._e(),e("th",[t._v("Fights")]),t.show_host?e("th",[t._v("Meats")]):t._e(),t.show_host?e("th",[t._v("Pots")]):t._e(),t.show_join?e("th",[t._v("Berries")]):t._e()])]),e("tbody",t._l(t.getData,function(o,s){return e("tr",{key:s},[o.name?e("td",{staticClass:"is-td-vcentered bg-secondary",attrs:{rowspan:o.name_rows}},[t._v(t._s(o.name))]):t._e(),o.honor?e("td",{staticClass:"is-td-vcentered bg-secondary",attrs:{rowspan:o.honor_rows}},[t._v(t._s(o.honor))]):t._e(),o.type&&t.show_host&&t.show_join?e("td",{staticClass:"is-td-vcentered bg-secondary",attrs:{rowspan:o.type_rows}},[t._v(t._s(o.type))]):t._e(),t.show_result_2nd||t.show_result_3rd||t.show_result_other?e("td",[t._v(t._s(o.finish))]):t._e(),e("td",[t._v(t._s(o.token))]),t.show_host?e("td",[t._v(t._s(o.cost_ap?(o.token/o.cost_ap).toFixed(2):""))]):t._e(),t.show_host?e("td",[t._v(t._s(o.cost_meat?(o.token/o.cost_meat).toFixed(2):""))]):t._e(),t.show_join?e("td",[t._v(t._s(o.cost_ep?(o.token/o.cost_ep).toFixed(2):""))]):t._e(),e("td",[t._v(t._s(Math.ceil(t.tokens_needed/o.token)))]),t.show_host?e("td",[t._v(t._s(o.cost_meat>0?Math.ceil(t.tokens_needed/o.token*o.cost_meat):""))]):t._e(),t.show_host?e("td",[t._v(t._s(o.cost_ap>0?Math.ceil(t.tokens_needed/o.token*(o.cost_ap/75)):""))]):t._e(),t.show_join?e("td",[t._v(t._s(o.cost_ep>0?Math.ceil(t.tokens_needed/o.token*o.cost_ep):""))]):t._e()])}),0)])])])},[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[e("abbr",{attrs:{title:"Percentage of tokens coming from this raid"}},[t._v("%")])]),e("th",[t._v("Name")]),e("th",[t._v("Time/fight")]),e("th",[t._v("Fights")]),e("th",[t._v("Tokens")]),e("th",[t._v("Honor")]),e("th",[t._v("Time")]),e("th",[t._v("Pots")]),e("th",[t._v("Meat/fight")]),e("th",[t._v("Meat")])])])},function(){var t=this._self._c;return t("td",[t("b",[this._v("Total")])])}],!1,null,null,null).exports}}]);