/*! For license information please see spark-9b948f25725b758b2d88.js.LICENSE.txt */
(self.webpackChunkgbf_frontend=self.webpackChunkgbf_frontend||[]).push([[702],{3836(t){!function(){"use strict";var e=function(){return{escape:function(t){return t.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")},parseExtension:e,mimeType:function(t){var n=e(t).toLowerCase();return function(){var t="application/font-woff",e="image/jpeg";return{woff:t,woff2:t,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:e,jpeg:e,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}()[n]||""},dataAsUrl:function(t,e){return"data:"+e+";base64,"+t},isDataUrl:function(t){return-1!==t.search(/^(data:)/)},canvasToBlob:function(t){return t.toBlob?new Promise(function(e){t.toBlob(e)}):function(t){return new Promise(function(e){for(var n=window.atob(t.toDataURL().split(",")[1]),r=n.length,s=new Uint8Array(r),i=0;i<r;i++)s[i]=n.charCodeAt(i);e(new Blob([s],{type:"image/png"}))})}(t)},resolveUrl:function(t,e){var n=document.implementation.createHTMLDocument(),r=n.createElement("base");n.head.appendChild(r);var s=n.createElement("a");return n.body.appendChild(s),r.href=e,s.href=t,s.href},getAndEncode:function(t){return i.impl.options.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+(new Date).getTime()),new Promise(function(e){var n,r=new XMLHttpRequest;if(r.onreadystatechange=function(){if(4===r.readyState)if(200===r.status){var s=new FileReader;s.onloadend=function(){var t=s.result.split(/,/)[1];e(t)},s.readAsDataURL(r.response)}else n?e(n):a("cannot fetch resource: "+t+", status: "+r.status)},r.ontimeout=function(){n?e(n):a("timeout of 30000ms occured while fetching resource: "+t)},r.responseType="blob",r.timeout=3e4,i.impl.options.useCredentials&&(r.withCredentials=!0),r.open("GET",t,!0),r.send(),i.impl.options.imagePlaceholder){var s=i.impl.options.imagePlaceholder.split(/,/);s&&s[1]&&(n=s[1])}function a(t){console.error(t),e("")}})},uid:(t=0,function(){return"u"+("0000"+(Math.random()*Math.pow(36,4)|0).toString(36)).slice(-4)+t++}),delay:function(t){return function(e){return new Promise(function(n){setTimeout(function(){n(e)},t)})}},asArray:function(t){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e},escapeXhtml:function(t){return t.replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(t){return"data:,"===t?Promise.resolve():new Promise(function(e,n){var r=new Image;i.impl.options.useCredentials&&(r.crossOrigin="use-credentials"),r.onload=function(){e(r)},r.onerror=n,r.src=t})},width:function(t){var e=n(t,"border-left-width"),r=n(t,"border-right-width");return t.scrollWidth+e+r},height:function(t){var e=n(t,"border-top-width"),r=n(t,"border-bottom-width");return t.scrollHeight+e+r}};var t;function e(t){var e=/\.([^\.\/]*?)(\?|$)/g.exec(t);return e?e[1]:""}function n(t,e){var n=window.getComputedStyle(t).getPropertyValue(e);return parseFloat(n.replace("px",""))}}(),n=function(){var t=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function(t,e,i){return n(t)?Promise.resolve(t).then(r).then(function(n){var r=Promise.resolve(t);return n.forEach(function(t){r=r.then(function(n){return s(n,t,e,i)})}),r}):Promise.resolve(t)},shouldProcess:n,impl:{readUrls:r,inline:s}};function n(e){return-1!==e.search(t)}function r(n){for(var r,s=[];null!==(r=t.exec(n));)s.push(r[1]);return s.filter(function(t){return!e.isDataUrl(t)})}function s(t,n,r,s){return Promise.resolve(n).then(function(t){return r?e.resolveUrl(t,r):t}).then(s||e.getAndEncode).then(function(t){return e.dataAsUrl(t,e.mimeType(n))}).then(function(r){return t.replace(function(t){return new RegExp("(url\\(['\"]?)("+e.escape(t)+")(['\"]?\\))","g")}(n),"$1"+r+"$3")})}}(),r=function(){return{resolveAll:function(){return t(document).then(function(t){return Promise.all(t.map(function(t){return t.resolve()}))}).then(function(t){return t.join("\n")})},impl:{readAll:t}};function t(){return Promise.resolve(e.asArray(document.styleSheets)).then(function(t){var n=[];return t.forEach(function(t){if(t.hasOwnProperty("cssRules"))try{e.asArray(t.cssRules||[]).forEach(n.push.bind(n))}catch(e){console.log("Error while reading CSS rules from "+t.href,e.toString())}}),n}).then(function(t){return t.filter(function(t){return t.type===CSSRule.FONT_FACE_RULE}).filter(function(t){return n.shouldProcess(t.style.getPropertyValue("src"))})}).then(function(e){return e.map(t)});function t(t){return{resolve:function(){var e=(t.parentStyleSheet||{}).href;return n.inlineAll(t.cssText,e)},src:function(){return t.style.getPropertyValue("src")}}}}}(),s=function(){return{inlineAll:function r(s){return s instanceof Element?function(t){var e=t.style.getPropertyValue("background");return e?n.inlineAll(e).then(function(e){t.style.setProperty("background",e,t.style.getPropertyPriority("background"))}).then(function(){return t}):Promise.resolve(t)}(s).then(function(){return s instanceof HTMLImageElement?t(s).inline():Promise.all(e.asArray(s.childNodes).map(function(t){return r(t)}))}):Promise.resolve(s)},impl:{newImage:t}};function t(t){return{inline:function(n){return e.isDataUrl(t.src)?Promise.resolve():Promise.resolve(t.src).then(n||e.getAndEncode).then(function(n){return e.dataAsUrl(n,e.mimeType(t.src))}).then(function(e){return new Promise(function(n){t.onload=n,t.onerror=n,t.src=e})})}}}}(),i={toSvg:a,toPng:function(t,e){return o(t,e||{}).then(function(t){return t.toDataURL()})},toJpeg:function(t,e){return o(t,e=e||{}).then(function(t){return t.toDataURL("image/jpeg",e.quality||1)})},toBlob:function(t,n){return o(t,n||{}).then(e.canvasToBlob)},toPixelData:function(t,n){return o(t,n||{}).then(function(n){return n.getContext("2d").getImageData(0,0,e.width(t),e.height(t)).data})},toCanvas:function(t,e){return o(t,e||{})},impl:{fontFaces:r,images:s,util:e,inliner:n,options:{}}};function a(t,n){return void 0===(r=n=n||{}).imagePlaceholder?i.impl.options.imagePlaceholder=void 0:i.impl.options.imagePlaceholder=r.imagePlaceholder,void 0===r.cacheBust?i.impl.options.cacheBust=!1:i.impl.options.cacheBust=r.cacheBust,void 0===r.useCredentials?i.impl.options.useCredentials=!1:i.impl.options.useCredentials=r.useCredentials,Promise.resolve(t).then(function(t){return function t(n,r,s){return s||!r||r(n)?Promise.resolve(n).then(function(t){return t instanceof HTMLCanvasElement?e.makeImage(t.toDataURL()):t.cloneNode(!1)}).then(function(s){return function(n,r,s){var i=n.childNodes;return 0===i.length?Promise.resolve(r):function(e,n,r){var s=Promise.resolve();return n.forEach(function(n){s=s.then(function(){return t(n,r)}).then(function(t){t&&e.appendChild(t)})}),s}(r,e.asArray(i),s).then(function(){return r})}(n,s,r)}).then(function(t){return function(t,n){return n instanceof Element?Promise.resolve().then(function(){!function(t,n){var r,s;t.cssText?(n.cssText=t.cssText,n.font=t.font):(r=t,s=n,e.asArray(r).forEach(function(t){s.setProperty(t,r.getPropertyValue(t),r.getPropertyPriority(t))}))}(window.getComputedStyle(t),n.style)}).then(function(){[":before",":after"].forEach(function(r){!function(r){var s=window.getComputedStyle(t,r),i=s.getPropertyValue("content");if(""!==i&&"none"!==i){var a=e.uid(),o=n.getAttribute("class");o&&n.setAttribute("class",o+" "+a);var c=document.createElement("style");c.appendChild(function(t,n,r){var s,i,a="."+t+":"+n,o=r.cssText?(i=(s=r).getPropertyValue("content"),s.cssText+" content: "+i+";"):c(r);return document.createTextNode(a+"{"+o+"}");function c(t){return e.asArray(t).map(n).join("; ")+";";function n(e){return e+": "+t.getPropertyValue(e)+(t.getPropertyPriority(e)?" !important":"")}}}(a,r,s)),n.appendChild(c)}}(r)})}).then(function(){t instanceof HTMLTextAreaElement&&(n.innerHTML=t.value),t instanceof HTMLInputElement&&n.setAttribute("value",t.value)}).then(function(){n instanceof SVGElement&&(n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n instanceof SVGRectElement&&["width","height"].forEach(function(t){var e=n.getAttribute(t);e&&n.style.setProperty(t,e)}))}).then(function(){return n}):n}(n,t)}):Promise.resolve()}(t,n.filter,!0)}).then(c).then(l).then(function(t){n.bgcolor&&(t.style.backgroundColor=n.bgcolor),n.width&&(t.style.width=n.width+"px"),n.height&&(t.style.height=n.height+"px"),n.style&&Object.keys(n.style).forEach(function(e){t.style[e]=n.style[e]});var e=null;return"function"==typeof n.onclone&&(e=n.onclone(t)),Promise.resolve(e).then(function(){return t})}).then(function(r){return function(t,n,r){return Promise.resolve(t).then(function(t){return t.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(t)}).then(e.escapeXhtml).then(function(t){return'<foreignObject x="0" y="0" width="100%" height="100%">'+t+"</foreignObject>"}).then(function(t){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+n+'" height="'+r+'">'+t+"</svg>"}).then(function(t){return"data:image/svg+xml;charset=utf-8,"+t})}(r,n.width||e.width(t),n.height||e.height(t))});var r}function o(t,n){return a(t,n).then(e.makeImage).then(e.delay(100)).then(function(r){var s="number"!=typeof n.scale?1:n.scale,i=function(t,r){var s=document.createElement("canvas");if(s.width=(n.width||e.width(t))*r,s.height=(n.height||e.height(t))*r,n.bgcolor){var i=s.getContext("2d");i.fillStyle=n.bgcolor,i.fillRect(0,0,s.width,s.height)}return s}(t,s),a=i.getContext("2d");return r&&(a.scale(s,s),a.drawImage(r,0,0)),i})}function c(t){return r.resolveAll().then(function(e){var n=document.createElement("style");return t.appendChild(n),n.appendChild(document.createTextNode(e)),t})}function l(t){return s.inlineAll(t).then(function(){return t})}t.exports=i}()},5191(t,e,n){"use strict";n.r(e),n.d(e,{default:()=>_});var r=n(9335),s=n(3836),i=n.n(s),a=n(9204),o=n(217),c=n(7628),l=n(951);const u={namespaced:!0,state:()=>({characters:[],summons:[]}),actions:{fetchCharacters({state:t,dispatch:e}){if(0===t.characters.length)return this.axios.get("/spark/characters").then(e=>t.characters=e.data).catch(t=>e("addAxiosErrorMessage",t,{root:!0}))},fetchSummons({state:t,dispatch:e}){if(0===t.summons.length)return this.axios.get("/spark/summons").then(e=>t.summons=e.data).catch(t=>e("addAxiosErrorMessage",t,{root:!0}))}}},h=(0,l.gq)("spark",u);var d=n(1770);const f={props:{unit:{type:Object,required:!0},width:{type:Number,default:105},height:{type:Number,default:60},isSpark:{type:Boolean,default:!1}},methods:{getName(t){return this.isLangEnglish?t.n:t.nj}},computed:{isLangEnglish(){return this.$store.getters.getLang===o.Y.EN}}};var p=n(4486);const m=(0,p.A)(f,function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex flex-col relative",style:"width: "+t.width+"px;"},[e("a",{staticClass:"text-xs text-primary h-5 px-1 text-center truncate",attrs:{target:"_blank",href:"https://gbf.wiki/"+t.unit.n,title:t.getName(t.unit)}},[t._v(t._s(t.getName(t.unit)))]),e("img",{staticClass:"cursor-pointer",style:"min-width: "+t.width+"px;",attrs:{height:t.height,width:t.width,title:t.getName(t.unit),src:"/img/unit_small/"+t.unit.id+"000.jpg"},on:{click:function(e){return t.$emit("left-click-unit")},contextmenu:function(e){return e.preventDefault(),t.$emit("right-click-unit")}}}),!0===t.isSpark?e("img",{staticClass:"absolute bottom-0 right-0 pointer-events-none",attrs:{height:"39",width:"38",src:"/img/item/ceruleanspark.png"}}):t._e()])},[],!1,null,null,null).exports,g=new a.A.LocalStorageMgt("Spark"),w={components:{Checkbox:d.A,SparkUnit:m},mixins:[c.A,h],head:{title:"Granblue.Party - Spark Maker",desc:"Granblue Fantasy Spark Maker",image:"https://www.granblue.party/img/card_spark.jpg",keywords:"spark, gacha, draws, characters, summons, weapons"},data:()=>({search_text:"",include_sr:!1,loading:!0,show_help:!1,show_spark:!0,drawn_characters:[],drawn_SRs:[],drawn_GM:[],drawn_summons:[],spark_targets:[],unique_index:0,draws:300,screenshot:!1}),methods:{loadData(){let t=[this.$store.dispatch("spark/fetchCharacters"),this.$store.dispatch("spark/fetchSummons")];return this.isUserLogged&&t.push(this.$store.dispatch("collection/fetchCollection",this.$store.getters.getUserId)),Promise.all(t)},newSpark(){this.drawn_characters=[],this.drawn_SRs=[],this.drawn_GM=[],this.drawn_summons=[],this.spark_targets=[],this.unique_index=0},clearText(){this.search_text="",this.$nextTick().then(()=>{this.$refs.searchfield.focus()})},selectCharacter(t){(t=a.A.copy(t)).uniqueId=this.unique_index,this.unique_index++,2==t.r?(this.drawn_characters.some(e=>e.id==t.id)||this.drawn_GM.some(e=>e.id==t.id)||this.ownedCharactersMap[t.id]&&!0===this.ownedCharactersMap[t.id].owned?this.drawn_GM.push(t):this.drawn_characters.push(t),this.spark_targets.push(t)):this.drawn_SRs.push(t),this.clearText()},selectGM(t){(t=a.A.copy(t)).uniqueId=this.unique_index,this.unique_index++,2==t.r?(this.drawn_GM.push(t),this.spark_targets.push(t)):this.drawn_SRs.push(t),this.clearText()},selectSummon(t){(t=a.A.copy(t)).uniqueId=this.unique_index,this.unique_index++,this.drawn_summons.push(t),this.spark_targets.push(t),this.clearText()},removeElement(t,e){const n=t.splice(e,1);if(1===n.length){const t=this.spark_targets.findIndex(t=>t.uniqueId===n[0].uniqueId);t>=0&&this.spark_targets.splice(t,1)}},isSpark(t){return!0===this.show_spark&&this.spark_targets[this.spark_targets.length-1].uniqueId===t.uniqueId},getName(t){return this.isLangEnglish?t.n:t.nj},screenSpark(){this.screenshot=!0;let t=document.getElementById("spark");i().toPng(t).then(t=>{this.screenshot=!1;var e=document.createElement("a");e.download="spark.png",e.href=t,e.click()})},saveToCollection(){if(null!==this.ownedCharactersMap){const t=0,e={c:[],s:[]};this.drawn_characters.forEach(n=>{const r=this.ownedCharactersMap[n.id];r&&!0!==r.owned&&e.c.push([n.id,r.sb,!0,t,!1])}),this.drawn_SRs.forEach(n=>{const r=this.ownedCharactersMap[n.id];r&&!0!==r.owned&&e.c.push([n.id,r.sb,!0,t,!1])}),this.drawn_summons.forEach(t=>{const n=this.ownedSummonsMap[t.id];if(n){const r=e.s.findIndex(e=>e[0]===t.id);if(r>=0)e.s[r][1]<n.sm&&e.s[r][1]++;else{let r=n.sc;null==n.owned||!1===n.owned?r=0:r<n.sm&&r++,e.s.push([t.id,r,!0])}}}),e.c.length>0||e.s.length>0?this.axios.post("/tracker/save",e).then(t=>this.$store.dispatch("addMessage",{message:"Units successfully added to the Collection"})).catch(t=>this.$store.dispatch("addAxiosErrorMessage",t)):this.$store.dispatch("addMessage",{message:"No units to add."})}}},computed:{...(0,r.mapState)("spark",["characters","summons"]),...(0,r.mapState)("collection",{collection_charas:"characters",collection_summons:"summons"}),isUserLogged(){return null!==this.$store.getters.getUserId},isLangEnglish(){return this.$store.getters.getLang===o.Y.EN},searchCharacters(){if(this.search_text.length<2)return{};const t=this.search_text.toLowerCase();return this.characters.filter(e=>(this.include_sr||2==e.r)&&(e.n.toLowerCase().includes(t)||e.nj.includes(this.search_text)||e.w.toLowerCase().includes(t)))},searchSummons(){if(this.search_text.length<2)return{};const t=this.search_text.toLowerCase();return this.summons.filter(e=>e.n.toLowerCase().includes(t)||e.nj.includes(this.search_text))},ssrRatio(){if(this.draws<1)return 0;let t=this.drawn_characters.length+this.drawn_GM.length+this.drawn_summons.length;return t>0&&!0===this.show_spark&&t--,(t/this.draws*100).toFixed(2)},ownedCharactersMap(){let t={};return this.collection_charas.forEach(e=>e.reduce((t,e)=>(t[e.id]=e,t),t)),t},ownedSummonsMap(){let t={};return this.collection_summons.forEach(e=>e.reduce((t,e)=>(t[e.id]=e,t),t)),t}},serverPrefetch(){return this.loadData()},async mounted(){await this.loadData().then(t=>{this.loading=!1,this.$nextTick().then(()=>{this.$refs.searchfield.focus()})}),g.getValue(this,"include_sr"),g.getValue(this,"show_spark"),g.getValue(this,"drawn_characters"),g.getValue(this,"drawn_SRs"),g.getValue(this,"drawn_GM"),g.getValue(this,"drawn_summons"),g.getValue(this,"unique_index");const t=t=>{t.hasOwnProperty("uniqueId")||(t.uniqueId=this.unique_index,this.unique_index++),this.spark_targets.push(t)};this.drawn_characters.forEach(e=>t(e)),this.drawn_GM.forEach(e=>t(e)),this.drawn_summons.forEach(e=>t(e)),this.spark_targets.sort((t,e)=>t.uniqueId>e.uniqueId)},watch:{"$store.getters.getUserId"(t){null===t&&this.$store.commit("collection/resetCollection"),this.loading=!0,this.loadData().then(t=>this.loading=!1)},include_sr(){g.setValue("include_sr",this)},show_spark(){g.setValue("show_spark",this)},drawn_characters(){g.setValue("drawn_characters",this)},drawn_SRs(){g.setValue("drawn_SRs",this)},drawn_GM(){g.setValue("drawn_GM",this)},drawn_summons(){g.setValue("drawn_summons",this)},unique_index(){g.setValue("unique_index",this)}}},_=(0,p.A)(w,function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex flex-col"},[e("h1",{staticClass:"self-center mb-8"},[t._v("Spark Maker")]),e("div",{staticClass:"flex flex-row flex-wrap self-center items-center gap-2 mb-4"},[e("button",{staticClass:"btn",class:t.show_help?"btn-blue":"btn-white",on:{click:function(e){t.show_help=!t.show_help}}},[e("fa-icon",{staticClass:"text-xl",attrs:{icon:["fas","info-circle"]}}),t._v(" Usage ")],1),e("checkbox",{model:{value:t.include_sr,callback:function(e){t.include_sr=e},expression:"include_sr"}},[t._v("Include Rs and SRs")]),e("checkbox",{model:{value:t.show_spark,callback:function(e){t.show_spark=e},expression:"show_spark"}},[t._v("Show Spark target")]),e("button",{staticClass:"btn btn-blue",on:{click:function(e){return t.screenSpark()}}},[e("fa-icon",{staticClass:"text-xl",attrs:{icon:["fas","save"]}}),t._v(" Save as PNG ")],1),t.isUserLogged?e("button",{staticClass:"btn btn-blue",on:{click:function(e){return t.saveToCollection()}}},[e("fa-icon",{staticClass:"text-xl",attrs:{icon:["fas","save"]}}),t._v(" Add Units to my Collection ")],1):t._e(),e("button",{staticClass:"btn btn-red",on:{click:function(e){return t.newSpark()}}},[e("fa-icon",{staticClass:"text-xl",attrs:{icon:["fas","trash"]}}),t._v(" New Spark ")],1)],1),t.show_help?e("div",{staticClass:"self-center bg-secondary rounded p-4 mb-2"},[e("h2",[t._v("Search")]),t._m(0),e("h2",[t._v("Click")]),t._m(1),t._m(2),t._m(3),e("h2",[t._v("Add to my Collection")]),t._m(4)]):t._e(),!0===t.loading?e("div",[t._v(" Loading... ")]):e("div",{staticClass:"flex flex-row flex-wrap md:flex-nowrap"},[e("div",{staticClass:"flex flex-col shrink pb-4 mr-2 w-96"},[e("div",{staticClass:"flex flex-row gap-x-2 mb-4"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.search_text,expression:"search_text"}],ref:"searchfield",staticClass:"input",attrs:{type:"text",size:"8",placeholder:"Search",autofocus:""},domProps:{value:t.search_text},on:{input:function(e){e.target.composing||(t.search_text=e.target.value)}}}),e("button",{staticClass:"btn btn-red",on:{click:function(e){return t.clearText()}}},[e("fa-icon",{staticClass:"text-xl",attrs:{icon:["fas","times"]}}),t._v(" Clear ")],1)]),e("span",{staticClass:"flex flex-col overflow-y-auto bg-secondary p-4",class:t.screenshot?"":"h-full"},[t.searchCharacters.length>0?e("h2",[t._v("Characters")]):t._e(),e("span",{staticClass:"flex flex-row flex-wrap"},t._l(t.searchCharacters,function(n){return e("spark-unit",{key:n.id,attrs:{unit:n},on:{"left-click-unit":function(e){return t.selectCharacter(n)},"right-click-unit":function(e){return t.selectGM(n)}}})}),1),t.searchSummons.length>0?e("h2",[t._v("Summons")]):t._e(),e("span",{staticClass:"flex flex-row flex-wrap"},t._l(t.searchSummons,function(n){return e("spark-unit",{key:n.id,attrs:{unit:n},on:{"left-click-unit":function(e){return t.selectSummon(n)}}})}),1)])]),e("div",{staticClass:"flex flex-col grow bg-primary",attrs:{id:"spark"}},[e("div",{staticClass:"flex flex-row flex-wrap"},[e("div",{staticClass:"flex pb-2 w-full",class:t.include_sr?"md:w-1/4":"md:w-1/3"},[e("div",{staticClass:"flex flex-col items-center bg-secondary rounded py-4 mr-2 px-2 w-full"},[e("img",{staticClass:"pb-2",attrs:{src:"/img/item/crystal.jpg",width:"65",height:"65"}}),e("div",{staticClass:"flex flex-row flex-wrap justify-center"},t._l(t.drawn_characters,function(n,r){return e("spark-unit",{key:r,attrs:{unit:n,width:126,height:72,isSpark:t.isSpark(n)},on:{"left-click-unit":function(e){return t.removeElement(t.drawn_characters,r)}}})}),1)])]),e("div",{staticClass:"flex pb-2 w-full",class:t.include_sr?"md:w-1/4":"md:w-1/3"},[e("div",{staticClass:"flex flex-col items-center bg-secondary rounded py-4 mr-2 px-2 w-full"},[e("img",{staticClass:"pb-2",attrs:{src:"/img/item/goldmoon.jpg",width:"65",height:"65"}}),e("div",{staticClass:"flex flex-row flex-wrap justify-center"},t._l(t.drawn_GM,function(n,r){return e("spark-unit",{key:r,attrs:{unit:n,width:126,height:72,isSpark:t.isSpark(n)},on:{"left-click-unit":function(e){return t.removeElement(t.drawn_GM,r)}}})}),1)])]),e("div",{staticClass:"flex pb-2 w-full",class:t.include_sr?"md:w-1/4":"md:w-1/3"},[e("div",{staticClass:"flex flex-col items-center bg-secondary rounded py-4 px-2 w-full",class:t.include_sr?"mr-2":""},[e("img",{staticClass:"pb-2",attrs:{src:"/img/item/sunlightstone.jpg",width:"65",height:"65"}}),e("div",{staticClass:"flex flex-row flex-wrap justify-center"},t._l(t.drawn_summons,function(n,r){return e("spark-unit",{key:r,attrs:{unit:n,width:126,height:72,isSpark:t.isSpark(n)},on:{"left-click-unit":function(e){return t.removeElement(t.drawn_summons,r)}}})}),1)])]),t.include_sr?e("div",{staticClass:"flex pb-2 w-full",class:t.include_sr?"md:w-1/4":"md:w-1/3"},[e("div",{staticClass:"flex flex-col items-center bg-secondary rounded py-4 px-2 w-full"},[e("img",{staticClass:"pb-2",attrs:{src:"/img/item/silvermoon.jpg",width:"65",height:"65"}}),e("div",{staticClass:"flex flex-row flex-wrap justify-center"},t._l(t.drawn_SRs,function(n,r){return e("spark-unit",{key:r,attrs:{unit:n,width:126,height:72},on:{"left-click-unit":function(e){return t.removeElement(t.drawn_SRs,r)}}})}),1)])]):t._e()]),e("div",{staticClass:"flex flex-row flex-wrap justify-between"},[e("span",[t.screenshot?t._e():e("label",{staticClass:"ml-2"},[t._v("Draws "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.draws,expression:"draws"}],staticClass:"input input-sm",staticStyle:{width:"7ch"},attrs:{type:"number",min:"1"},domProps:{value:t.draws},on:{input:function(e){e.target.composing||(t.draws=e.target.value)}}})]),e("span",{staticClass:"ml-2"},[t._v("SSR ratio: "+t._s(t.ssrRatio)+"%")]),!0===t.show_spark&&t.spark_targets.length>0?e("span",{staticClass:"ml-2"},[t._v("Sparked: "+t._s(t.getName(t.spark_targets[t.spark_targets.length-1])))]):t._e()]),t.screenshot?e("span",{staticClass:"pr-2 ml-2"},[t._v("https://www.granblue.party/spark")]):t._e()])])])])},[function(){var t=this,e=t._self._c;return e("p",{staticClass:"pb-4"},[t._v(" You can search units by English, Japanese or Weapon name."),e("br"),t._v(" You need to type at least 2 characters to display the result of your query. ")])},function(){var t=this,e=t._self._c;return e("p",{staticClass:"pb-4"},[t._v(" Left-click on a unit in the search section to add it to your spark."),e("br"),t._v(" Right-click on a unit to add it as a Gold Moon."),e("br"),t._v(" To remove a unit from your spark, left-click on its image in the spark section. ")])},function(){var t=this._self._c;return t("h2",[this._v("Spark target "),t("img",{staticClass:"h-6",attrs:{src:"/img/item/ceruleanspark.png"}})])},function(){var t=this,e=t._self._c;return e("p",{staticClass:"pb-4"},[t._v(" The last element you add is your spark target."),e("br"),t._v(" The spark target does not count in the SSR ratio. ")])},function(){var t=this,e=t._self._c;return e("p",{staticClass:"pb-4"},[t._v(" If you are logged in with your account, you can add the result of your Spark to your Collection."),e("br"),t._v(" Characters will be added with a base amount of stars (no blue stars unlocked)."),e("br"),t._v(" New summons will be added with no stars, and existing ones will gain one star (if possible)."),e("br"),t._v(" Be careful not to add the same Spark multiple times, or you might add extra unwanted stars to your summons. ")])}],!1,null,null,null).exports}}]);