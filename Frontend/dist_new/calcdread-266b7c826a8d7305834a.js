"use strict";(self.webpackChunkgbf_frontend=self.webpackChunkgbf_frontend||[]).push([[860],{2270(e,t,s){s.r(t),s.d(t,{default:()=>h});var o=s(9204),n=s(1770);const _=new o.A.LocalStorageMgt("CalcDread"),i=[{name:"1★",cost_ap:20,cost_ep:2,honor:320,token_host:18,token_join:20,token_1:14,token_2:0,token_3:0},{name:"2★",cost_ap:30,cost_ep:2,honor:788,token_host:28,token_join:22,token_1:20,token_2:0,token_3:0},{name:"3★",cost_ap:40,cost_ep:2,honor:3730,token_host:50,token_join:25,token_1:22,token_2:15,token_3:8},{name:"4★",cost_ap:50,cost_ep:3,honor:20330,token_host:72,token_join:40,token_1:34,token_2:26,token_3:18},{name:"5★",cost_ap:50,cost_ep:3,honor:41e4,token_host:115,token_join:80,token_1:48,token_2:40,token_3:28},{name:"Lvl 95",cost_ap:0,cost_ep:3,honor:11855,token_host:55,token_join:30,token_1:26,token_2:18,token_3:10},{name:"Lvl 135",cost_ap:0,cost_ep:3,honor:11855,token_host:100,token_join:60,token_1:44,token_2:34,token_3:24},{name:"Lvl 175",cost_ap:0,cost_ep:3,honor:75e3,token_host:160,token_join:110,token_1:68,token_2:54,token_3:38}],a={components:{Checkbox:n.A},head:{title:"Granblue.Party - Dread Barrage Calculator",desc:"Calculator for Dread Barrage tokens",image:"https://www.granblue.party/img/card_index.jpg",keywords:"Granblue Fantasy, GBF, Dread Barrage, tokens, eternals, valor badge"},data:()=>({boxes_needed:20,boxes_opened:0,tokens_explained:"",tokens_obtained:0,tokens_total:0,show_fight:[!1,!0,!0,!0,!0,!0,!0,!0],time_loading:1,time_fight:[0,0,0,0,0],show_host:!0,show_join:!0,show_result_2nd:!1,show_result_3rd:!1,show_result_other:!0}),methods:{showFight(e){this.$set(this.show_fight,e,!this.show_fight[e])},getFightData(e){let t=[];const s=1+(e.token_2>0&&this.show_result_2nd?1:0)+(e.token_3>0&&this.show_result_3rd?1:0)+(this.show_result_other?1:0);return this.show_host&&(t.push({type:"Host",type_rows:s,finish:"MVP",token:e.token_host+e.token_join+e.token_1,cost_ap:e.cost_ap}),e.token_2>0&&this.show_result_2nd&&t.push({finish:"2nd",token:e.token_host+e.token_join+e.token_2,cost_ap:e.cost_ap}),e.token_3>0&&this.show_result_3rd&&t.push({finish:"3rd",token:e.token_host+e.token_join+e.token_3,cost_ap:e.cost_ap}),this.show_result_other&&t.push({finish:"",token:e.token_host+e.token_join,cost_ap:e.cost_ap})),this.show_join&&(t.push({type:"Join",type_rows:s,finish:"MVP",token:e.token_join+e.token_1,cost_ep:e.cost_ep}),e.token_2>0&&this.show_result_2nd&&t.push({finish:"2nd",token:e.token_join+e.token_2,cost_ep:e.cost_ep}),e.token_3>0&&this.show_result_3rd&&t.push({finish:"3rd",token:e.token_join+e.token_3,cost_ep:e.cost_ep}),this.show_result_other&&t.push({finish:"",token:e.token_join,cost_ep:e.cost_ep})),t.length>0&&(t[0].name=e.name,t[0].name_rows=s*(this.show_host&&this.show_join?2:1)),t},getFightTime(e,t){const s=parseInt(this.time_fight[t],10),n=parseInt(this.time_loading,10);if(s<1)return"";const _=e.token_host+e.token_join+e.token_1,i=Math.ceil(this.tokens_needed/_)*(s+n),a=Math.ceil(3600*this.tokens_needed/i),h=Math.ceil(this.tokens_needed/_*e.cost_ap*3600/i);return{total_time:o.A.toReadableTime(i),token_per_hour:a,ap_per_hour:h}}},computed:{getData(){return i.flatMap((e,t)=>this.show_fight[t]?this.getFightData(e):[])},getFights(){return i.slice(0,5).map((e,t)=>({name:e.name,...this.getFightTime(e,t)}))},getFightNames:()=>i.map(e=>e.name),getBoxesNeeded(){return parseInt(this.boxes_needed,10)},getBoxesOpened(){return parseInt(this.boxes_opened,10)},getTokensObtained(){return parseInt(this.tokens_obtained,10)},getProgress(){let e=(100-this.tokens_needed/this.tokens_total*100).toFixed(2);return 0==this.tokens_total?100..toFixed(2):e},tokens_needed(){let e=0,t=this.getBoxesNeeded-this.getBoxesOpened;this.tokens_explained="",1===t?this.tokens_explained=t+" box = (":t>1&&(this.tokens_explained=t+" boxes = (");let s=!1;if(0===this.getBoxesOpened&&t>0&&(e+=1600,t--,this.tokens_explained+="1600",s=!0),this.getBoxesOpened<4&&t>0){const o=Math.min(3,t,4-this.getBoxesOpened);e+=2404*o,t-=o,this.tokens_explained+=(s?" + ":"")+o+"x2404",s=!0}if(this.getBoxesOpened<20&&t>0){const o=Math.min(16,t,20-this.getBoxesOpened);e+=2e3*o,t-=o,this.tokens_explained+=(s?" + ":"")+o+"x2000",s=!0}if(this.getBoxesOpened<40&&t>0){const o=Math.min(20,t,40-this.getBoxesOpened);e+=1e4*o,t-=o,this.tokens_explained+=(s?" + ":"")+o+"x10000",s=!0}return t>0&&(e+=15e3*t,this.tokens_explained+=(s?" + ":"")+t+"x15000"),this.tokens_total=e,this.tokens_explained&&(this.tokens_explained+=" tokens)"),this.getTokensObtained>0&&(e-=this.getTokensObtained,this.tokens_total>0&&(this.tokens_explained+=" - "+this.getTokensObtained,this.getTokensObtained>1?this.tokens_explained+=" tokens obtained":this.tokens_explained+=" token obtained")),Math.max(0,e)}},watch:{show_fight(){_.setValue("show_fight",this)},show_host(){_.setValue("show_host",this)},show_join(){_.setValue("show_join",this)},tokens_obtained(){_.setValue("tokens_obtained",this)},boxes_needed(){_.setValue("boxes_needed",this)},boxes_opened(){_.setValue("boxes_opened",this)},show_result_2nd(){_.setValue("show_result_2nd",this)},show_result_3rd(){_.setValue("show_result_3rd",this)},show_result_other(){_.setValue("show_result_other",this)},time_loading(){_.setValue("time_loading",this)},time_fight(){_.setValue("time_fight",this)}},mounted(){_.getValue(this,"show_fight"),_.getValue(this,"show_host"),_.getValue(this,"show_join"),_.getValue(this,"boxes_needed"),_.getValue(this,"boxes_opened"),_.getValue(this,"tokens_obtained"),_.getValue(this,"show_result_2nd"),_.getValue(this,"show_result_3rd"),_.getValue(this,"show_result_other"),_.getValue(this,"time_loading"),_.getValue(this,"time_fight")}},h=(0,s(4486).A)(a,function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex flex-col flex-wrap items-center"},[t("h1",{staticClass:"mb-8"},[e._v("Dread Barrage Calculator")]),t("div",{staticClass:"flex flex-col gap-x-4"},[t("span",{staticClass:"flex flex-row flex-wrap items-center gap-4"},[t("label",[e._v("Boxes needed "),t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.boxes_needed,expression:"boxes_needed",modifiers:{lazy:!0}}],staticClass:"input input-sm",staticStyle:{width:"7ch"},attrs:{type:"number",min:"1"},domProps:{value:e.boxes_needed},on:{change:function(t){e.boxes_needed=t.target.value}}})]),t("label",[e._v("Already opened "),t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.boxes_opened,expression:"boxes_opened",modifiers:{lazy:!0}}],staticClass:"input input-sm",staticStyle:{width:"7ch"},attrs:{type:"number",min:"0"},domProps:{value:e.boxes_opened},on:{change:function(t){e.boxes_opened=t.target.value}}})])]),t("span",{staticClass:"flex flex-row flex-wrap items-center gap-4"},[t("label",[e._v("Tokens obtained "),t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.tokens_obtained,expression:"tokens_obtained",modifiers:{lazy:!0}}],staticClass:"input input-sm",staticStyle:{width:"10ch"},attrs:{type:"number",min:"0"},domProps:{value:e.tokens_obtained},on:{change:function(t){e.tokens_obtained=t.target.value}}})]),t("span",[e._v("Progress: "+e._s(e.getProgress)+"%")])])]),t("div",{staticClass:"flex flex-col gap-x-4 mb-8"},[t("span",[e._v(e._s(e.tokens_explained))]),t("span",{staticClass:"text-lg font-bold"},[e._v("Tokens needed: "+e._s(e.tokens_needed))])]),t("h2",{staticClass:"mb-4"},[e._v("Farming time calculator (input in seconds):")]),t("div",{staticClass:"overflow-y-auto w-full"},[t("table",{staticClass:"table bg-secondary table-px w-auto ml-auto mr-auto mb-8"},[e._m(0),t("tbody",[t("tr",[t("td",[e._v("Loading")]),t("td",[t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.time_loading,expression:"time_loading",modifiers:{lazy:!0}}],staticClass:"input input-sm",staticStyle:{width:"7ch"},attrs:{type:"number",min:"0"},domProps:{value:e.time_loading},on:{change:function(t){e.time_loading=t.target.value}}})]),t("td"),t("td"),t("td")]),e._l(e.getFights,function(s,o){return t("tr",{key:o},[t("td",[e._v(e._s(s.name))]),t("td",[t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.time_fight[o],expression:"time_fight[index]",modifiers:{lazy:!0}}],staticClass:"input input-sm",staticStyle:{width:"7ch"},attrs:{type:"number",min:"1"},domProps:{value:e.time_fight[o]},on:{change:function(t){return e.$set(e.time_fight,o,t.target.value)}}})]),t("td",[e._v(e._s(s.total_time))]),t("td",[e._v(e._s(s.token_per_hour))]),t("td",[e._v(e._s(s.ap_per_hour))])])})],2)])]),t("div",{staticClass:"flex flex-row flex-wrap items-center gap-4"},[t("span",{staticClass:"flex flex-row flex-wrap btn-group items-center"},[t("span",{staticClass:"mr-2"},[e._v("Fight")]),e._l(e.getFightNames,function(s,o){return t("button",{key:o,staticClass:"btn btn-sm",class:e.show_fight[o]?"btn-blue":"btn-white",on:{click:function(t){return e.showFight(o)}}},[e._v(" "+e._s(s)+" ")])})],2),t("span",{staticClass:"flex flex-row flex-wrap btn-group items-center"},[t("span",{staticClass:"mr-2"},[e._v("Type")]),t("button",{staticClass:"btn btn-sm",class:e.show_host?"btn-blue":"btn-white",on:{click:function(t){e.show_host=!e.show_host}}},[e._v(" Host ")]),t("button",{staticClass:"btn btn-sm",class:e.show_join?"btn-blue":"btn-white",on:{click:function(t){e.show_join=!e.show_join}}},[e._v(" Join ")])])]),t("div",{staticClass:"flex flex-row flex-wrap mb-4 items-center gap-4"},[e._v(" Show results for "),t("checkbox",{staticClass:"ordinal",model:{value:e.show_result_2nd,callback:function(t){e.show_result_2nd=t},expression:"show_result_2nd"}},[e._v("2nd")]),t("checkbox",{staticClass:"ordinal",model:{value:e.show_result_3rd,callback:function(t){e.show_result_3rd=t},expression:"show_result_3rd"}},[e._v("3rd")]),t("checkbox",{model:{value:e.show_result_other,callback:function(t){e.show_result_other=t},expression:"show_result_other"}},[e._v("Other")])],1),t("div",{staticClass:"overflow-y-auto w-full"},[t("table",{staticClass:"table table-striped bg-secondary table-px w-auto ml-auto mr-auto"},[t("thead",[t("tr",[t("th",[e._v("Name")]),e.show_host&&e.show_join?t("th"):e._e(),e.show_result_2nd||e.show_result_3rd||e.show_result_other?t("th"):e._e(),t("th",[e._v("Tokens")]),e.show_host?t("th",[e._v("Tokens/AP")]):e._e(),e.show_join?t("th",[e._v("Tokens/EP")]):e._e(),t("th",[e._v("Fights")]),e.show_host?t("th",[e._v("Pots")]):e._e(),e.show_join?t("th",[e._v("Berries")]):e._e()])]),t("tbody",e._l(e.getData,function(s,o){return t("tr",{key:o},[s.name?t("td",{staticClass:"is-td-vcentered bg-secondary",attrs:{rowspan:s.name_rows}},[e._v(e._s(s.name))]):e._e(),s.type&&e.show_host&&e.show_join?t("td",{staticClass:"is-td-vcentered bg-secondary",attrs:{rowspan:s.type_rows}},[e._v(e._s(s.type))]):e._e(),e.show_result_2nd||e.show_result_3rd||e.show_result_other?t("td",[e._v(e._s(s.finish))]):e._e(),t("td",[e._v(e._s(s.token))]),e.show_host?t("td",[e._v(e._s(s.cost_ap?(s.token/s.cost_ap).toFixed(2):""))]):e._e(),e.show_join?t("td",[e._v(e._s(s.cost_ep?(s.token/s.cost_ep).toFixed(2):""))]):e._e(),t("td",[e._v(e._s(Math.ceil(e.tokens_needed/s.token)))]),e.show_host?t("td",[e._v(e._s(s.cost_ap>0?Math.ceil(e.tokens_needed/s.token*(s.cost_ap/75)):""))]):e._e(),e.show_join?t("td",[e._v(e._s(s.cost_ep>0?Math.ceil(e.tokens_needed/s.token*s.cost_ep):""))]):e._e()])}),0)])])])},[function(){var e=this,t=e._self._c;return t("thead",[t("tr",[t("th",[e._v("Name")]),t("th",[e._v("Time")]),t("th",[e._v("Total")]),t("th",[e._v("Tokens/hour")]),t("th",[e._v("AP/hour")])])])}],!1,null,null,null).exports}}]);