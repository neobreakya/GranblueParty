"use strict";(self.webpackChunkgbf_frontend=self.webpackChunkgbf_frontend||[]).push([[244],{4135(e,t,s){s.r(t),s.d(t,{default:()=>h});var o=s(9204),n=s(1770);const a=new o.A.LocalStorageMgt("CalcEvent"),i=[{name:"Very Hard",cost_ap:20,cost_meat:0,cost_ep:1,token_host:6,token_join:11,token_1:6},{name:"Extreme",cost_ap:30,cost_meat:3,cost_ep:3,token_host:20,token_join:16,token_1:12},{name:"Impossible",cost_ap:40,cost_meat:5,cost_ep:3,token_host:44,token_join:28,token_1:24}],_={components:{Checkbox:n.A},head:{title:"Granblue.Party - New Event Calculator",desc:"Calculator for new Event tokens and boxes",image:"https://www.granblue.party/img/card_calcevent.jpg",keywords:"Event, boxes, tokens, Token Draw, calculator, crystals"},data:()=>({boxes_needed:20,boxes_opened:0,tokens_explained:"",tokens_obtained:0,tokens_total:0,nightmare_rate:4,show_fight:[!0,!0,!0],show_host:!0,show_join:!0,add_nightmare:!1}),methods:{showFight(e){this.$set(this.show_fight,e,!this.show_fight[e])},getFightData(e){let t=[];return this.show_host&&(t.push({name:e.name,name_rows:4/(this.show_join?1:2),honor:e.honor,honor_rows:4/(this.show_join?1:2),type:"Host",type_rows:2,finish:"MVP",token:e.token_host+e.token_join+e.token_1+(this.add_nightmare?this.getNightmareEarn:0),cost_ap:e.cost_ap,cost_meat:e.cost_meat}),t.push({finish:"",token:e.token_host+e.token_join+(this.add_nightmare?this.getNightmareEarn:0),cost_ap:e.cost_ap,cost_meat:e.cost_meat})),this.show_join&&(t.push({type:"Join",type_rows:2,finish:"MVP",token:e.token_join+e.token_1,cost_ep:e.cost_ep}),this.show_host||(t[t.length-1].name=e.name,t[t.length-1].name_rows=2),t.push({finish:"",token:e.token_join,cost_ep:e.cost_ep})),t}},computed:{getData(){return i.flatMap((e,t)=>this.show_fight[t]?this.getFightData(e):[])},getFightNames:()=>i.map(e=>e.name),getBoxesNeeded(){return parseInt(this.boxes_needed,10)},getBoxesOpened(){return parseInt(this.boxes_opened,10)},getTokensObtained(){return parseInt(this.tokens_obtained,10)},getProgress(){let e=(100-this.tokens_needed/this.tokens_total*100).toFixed(2);return 0==this.tokens_total?100..toFixed(2):e},getNightmareEarn(){return this.nightmare_rate<1?0:100/this.nightmare_rate},tokens_needed(){let e=0,t=this.getBoxesNeeded-this.getBoxesOpened;this.tokens_explained="",1===t?this.tokens_explained=t+" box = (":t>1&&(this.tokens_explained=t+" boxes = (");let s=!1;if(0===this.getBoxesOpened&&t>0&&(e+=1198,t--,this.tokens_explained+="1198",s=!0),this.getBoxesOpened<2&&t>0&&(e+=1598,t--,this.tokens_explained+=(s?" + ":"")+"1598",s=!0),this.getBoxesOpened<3&&t>0&&(e+=1998,t--,this.tokens_explained+=(s?" + ":"")+"1998",s=!0),this.getBoxesOpened<20&&t>0){const o=Math.min(17,t,20-this.getBoxesOpened);e+=2110*o,t-=o,this.tokens_explained+=(s?" + ":"")+o+"x2110",s=!0}return t>0&&(e+=2104*t,this.tokens_explained+=(s?" + ":"")+t+"x2104"),this.tokens_total=e,this.tokens_explained&&(this.tokens_explained+=" tokens)"),this.getTokensObtained>0&&(e-=this.getTokensObtained,this.tokens_total>0&&(this.tokens_explained+=" - "+this.getTokensObtained,this.getTokensObtained>1?this.tokens_explained+=" tokens obtained":this.tokens_explained+=" token obtained")),Math.max(0,e)}},watch:{boxes_needed(){a.setValue("boxes_needed",this)},boxes_opened(){a.setValue("boxes_opened",this)},show_fight(){a.setValue("show_fight",this)},show_host(){a.setValue("show_host",this)},show_join(){a.setValue("show_join",this)},tokens_obtained(){a.setValue("tokens_obtained",this)},nightmare_rate(){a.setValue("nightmare_rate",this)},add_nightmare(){a.setValue("add_nightmare",this)}},mounted(){a.getValue(this,"boxes_needed"),a.getValue(this,"boxes_opened"),a.getValue(this,"show_fight"),a.getValue(this,"show_host"),a.getValue(this,"show_join"),a.getValue(this,"tokens_obtained"),a.getValue(this,"nightmare_rate"),a.getValue(this,"add_nightmare")}},h=(0,s(4486).A)(_,function(){var e=this,t=e._self._c;return t("div",{staticClass:"flex flex-col items-center"},[t("h1",{staticClass:"mb-8"},[e._v("New Event tokens Calculator")]),t("div",{staticClass:"flex flex-col mb-8 gap-x-4"},[t("span",{staticClass:"flex flex-row flex-wrap items-center gap-4"},[t("label",[e._v("Boxes needed "),t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.boxes_needed,expression:"boxes_needed",modifiers:{lazy:!0}}],staticClass:"input input-sm",staticStyle:{width:"7ch"},attrs:{type:"number",min:"1"},domProps:{value:e.boxes_needed},on:{change:function(t){e.boxes_needed=t.target.value}}})]),t("label",[e._v("Already opened "),t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.boxes_opened,expression:"boxes_opened",modifiers:{lazy:!0}}],staticClass:"input input-sm",staticStyle:{width:"7ch"},attrs:{type:"number",min:"0"},domProps:{value:e.boxes_opened},on:{change:function(t){e.boxes_opened=t.target.value}}})]),t("span",[e._v("Progress: "+e._s(e.getProgress)+"%")])]),t("span",{staticClass:"flex flex-row flex-wrap items-center"},[t("label",[e._v("Tokens obtained "),t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.tokens_obtained,expression:"tokens_obtained",modifiers:{lazy:!0}}],staticClass:"input input-sm",staticStyle:{width:"10ch"},attrs:{type:"number",min:"0"},domProps:{value:e.tokens_obtained},on:{change:function(t){e.tokens_obtained=t.target.value}}})])]),t("span",[e._v(" A Nightmare fight appears on average once every "),t("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.nightmare_rate,expression:"nightmare_rate",modifiers:{lazy:!0}}],staticClass:"input input-sm",staticStyle:{width:"5ch"},attrs:{type:"number",min:"0"},domProps:{value:e.nightmare_rate},on:{change:function(t){e.nightmare_rate=t.target.value}}}),e._v(" raids ")]),t("span",[e._v(e._s(e.tokens_explained))]),t("span",{staticClass:"text-lg font-bold"},[e._v("Tokens needed: "+e._s(e.tokens_needed))])]),t("div",{staticClass:"flex flex-row flex-wrap mb-4 items-center gap-4"},[t("span",{staticClass:"flex flex-row flex-wrap btn-group items-center"},[t("span",{staticClass:"mr-2"},[e._v("Fight")]),e._l(e.getFightNames,function(s,o){return t("button",{key:o,staticClass:"btn btn-sm",class:e.show_fight[o]?"btn-blue":"btn-white",on:{click:function(t){return e.showFight(o)}}},[e._v(" "+e._s(s)+" ")])})],2),t("span",{staticClass:"flex flex-row flex-wrap btn-group items-center"},[t("span",{staticClass:"mr-2"},[e._v("Type")]),t("button",{staticClass:"btn btn-sm",class:e.show_host?"btn-blue":"btn-white",on:{click:function(t){e.show_host=!e.show_host}}},[e._v(" Host ")]),t("button",{staticClass:"btn btn-sm",class:e.show_join?"btn-blue":"btn-white",on:{click:function(t){e.show_join=!e.show_join}}},[e._v(" Join ")])]),t("checkbox",{model:{value:e.add_nightmare,callback:function(t){e.add_nightmare=t},expression:"add_nightmare"}},[e._v("Include Nightmare tokens to sum")])],1),t("div",{staticClass:"overflow-y-auto w-full"},[t("table",{staticClass:"table table-striped bg-secondary table-px w-auto ml-auto mr-auto"},[t("thead",[t("tr",[t("th",[e._v("Name")]),t("th"),t("th"),t("th",[e._v("Tokens")]),e.show_host?t("th",[e._v("Tokens/AP")]):e._e(),e.show_host?t("th",[e._v("Tokens/meat")]):e._e(),e.show_join?t("th",[e._v("Tokens/EP")]):e._e(),t("th",[e._v("Fights")]),e.show_host?t("th",[e._v("Meats")]):e._e(),e.show_host?t("th",[e._v("Pots")]):e._e(),e.show_join?t("th",[e._v("Berries")]):e._e()])]),t("tbody",e._l(e.getData,function(s,o){return t("tr",{key:o},[s.name?t("td",{staticClass:"is-td-vcentered",attrs:{rowspan:s.name_rows}},[e._v(e._s(s.name))]):e._e(),s.type?t("td",{staticClass:"is-td-vcentered",attrs:{rowspan:s.type_rows}},[e._v(e._s(s.type))]):e._e(),t("td",[e._v(e._s(s.finish))]),t("td",[e._v(e._s(+s.token.toFixed(2)))]),e.show_host?t("td",[e._v(e._s(s.cost_ap?(s.token/s.cost_ap).toFixed(2):""))]):e._e(),e.show_host?t("td",[e._v(e._s(s.cost_meat?(s.token/s.cost_meat).toFixed(2):""))]):e._e(),e.show_join?t("td",[e._v(e._s(s.cost_ep?(s.token/s.cost_ep).toFixed(2):""))]):e._e(),t("td",[e._v(e._s(Math.ceil(e.tokens_needed/s.token)))]),e.show_host?t("td",[e._v(e._s(s.cost_meat>0?Math.ceil(e.tokens_needed/s.token*s.cost_meat):""))]):e._e(),e.show_host?t("td",[e._v(e._s(s.cost_ap>0?Math.ceil(e.tokens_needed/s.token*(s.cost_ap/75)):""))]):e._e(),e.show_join?t("td",[e._v(e._s(s.cost_ep>0?Math.ceil(e.tokens_needed/s.token*s.cost_ep):""))]):e._e()])}),0)])]),e._m(0)])},[function(){var e=this,t=e._self._c;return t("span",{staticClass:"pt-4"},[t("h2",[e._v("Additional information")]),t("ul",{staticClass:"list-disc ml-4"},[t("li",[e._v("You might need up to 14 additional tokens for carried over Damascus Crystals in boxes 4 to 10")]),t("li",[e._v("Each daily mission gives an additional 200 tokens")]),t("li",[e._v("Nightmare quest can only appear after raids you've hosted")])])])}],!1,null,null,null).exports}}]);