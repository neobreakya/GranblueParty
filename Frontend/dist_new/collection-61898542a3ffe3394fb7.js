"use strict";(self.webpackChunkgbf_frontend=self.webpackChunkgbf_frontend||[]).push([[171],{1852(s,e,t){t.r(e),t.d(e,{default:()=>k});var a=t(9335),o=t(3728),r=t(9204),n=t(253),c=t(217),i=t(7628),l=t(1770),h=t(8334),u=t(8160);const m={model:{prop:"show",event:"close"},components:{Modal:t(5836).A},props:{show:{type:Boolean,required:!0}},data:()=>({url:""}),methods:{getURL(){this.$emit("import",this.url),this.$emit("close",!1)}},watch:{show(){if(!0===this.show){let s=this;this.$nextTick().then(()=>{s.url="",s.$refs.url.focus()})}}}};var _=t(4486);const d=(0,_.A)(m,function(){var s=this,e=s._self._c;return e("modal",{attrs:{show:s.show},on:{close:function(e){return s.$emit("close",!1)}},scopedSlots:s._u([{key:"header",fn:function(){return[e("h2",[s._v("Please copy your gbf.wiki collection URL below")])]},proxy:!0}])},[e("form",{staticClass:"m-1",on:{submit:function(e){return e.preventDefault(),s.getURL()}}},[e("div",{staticClass:"mb-2"},[e("label",{attrs:{for:"url"}},[s._v("URL")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.url,expression:"url"}],ref:"url",staticClass:"input w-full",attrs:{id:"url",type:"text",placeholder:"URL",required:"",autofocus:""},domProps:{value:s.url},on:{input:function(e){e.target.composing||(s.url=e.target.value)}}})]),e("input",{staticClass:"btn btn-blue pt-2",attrs:{type:"submit",value:"Import"}})])])},[],!1,null,null,null).exports;var w=t(4931);const p=new r.A.LocalStorageMgt("CollectionTracker"),g=[{name:"Name",isColumn:!0,isFilter:!1,hasAll:!0,key:"n"},{name:"Rarity",isColumn:!1,isFilter:!0,hasAll:!0,key:"ri"},{name:"Element",isColumn:!0,isFilter:!0,hasAll:!0,key:"e"},{name:"Type",isColumn:!0,isFilter:!0,hasAll:!0,key:"t"},{name:"Race",isColumn:!0,isFilter:!0,hasAll:!0,key:"ra"},{name:"Weapon",isColumn:!0,isFilter:!0,hasAll:!0,key:"w"},{name:"Owned",isColumn:!1,isFilter:!0,hasAll:!1,key:"owned"},{name:"Ringed",isColumn:!1,isFilter:!0,hasAll:!1,key:"ring"}];function v(){return Object.fromEntries(g.map(s=>n.A[s.key].data?[s.key,n.A[s.key].data.map(s=>0)]:[s.key,[]]))}const f=()=>({chara_show:{null:!0,10:!0,20:!0,500:!0,600:!0,1e3:!0,1010:!0,1020:!0,1030:!0,1040:!0,1050:!0,1500:!0,1600:!0},summon_show:{null:!0,20:!0,500:!0,600:!0,1e3:!0,1020:!0,1030:!0,1600:!0},data_model:Object.fromEntries(g.map(s=>[s.key,r.A.copy(n.A[s.key])])),data_count:[v(),v()],modification:!1,showNames:!0,showStars:!0,showAwakening:!1,showRings:!0,showCharacters:!0,showSummons:!0,showStats:!1,show_modal_url:!1,clipboard_text:"",loading:!0,editRings:!1}),y={components:{Checkbox:l.A,StatInput:h.A,DataFilter:u.A,ModalUrl:d,StarsLine:w.A},mixins:[i.A],head:{title:"Granblue.Party - Collection Tracker",desc:"Track the characters and summons you unlocked, and share your collection with your friends",image:"https://www.granblue.party/img/card_collection.jpg",keywords:"collection, tracker, characters, summons, share"},data:()=>f(),methods:{getName(s){return this.isLangEnglish?s.n:s.nj},setShowCharacters(){this.showCharacters=!this.showCharacters,p.setValue("showCharacters",this)},setShowSummons(){this.showSummons=!this.showSummons,p.setValue("showSummons",this)},selectChara(s){this.isOwnCollection&&(this.editRings?s.ring=!s.ring:(s.owned=!s.owned,s.owned?(this.chara_count.sum++,this.chara_count[s.d]++):(this.chara_count.sum--,this.chara_count[s.d]--)),this.modification=!0)},selectSummon(s){if(this.isOwnCollection){if(this.editRings)return;s.owned=!s.owned,s.owned?(this.summon_count.sum++,this.summon_count[s.d]++):(this.summon_count.sum--,this.summon_count[s.d]--),this.modification=!0}},starsModified(){this.isOwnCollection&&(this.modification=!0)},saveCollection(){if(this.isOwnCollection){const s={c:[],s:[]};this.characters.forEach(e=>{e.forEach(e=>{null!=e.owned&&s.c.push([e.id,e.sc,e.owned,e.aw,e.ring])})}),this.summons.forEach(e=>{e.forEach(e=>{null!=e.owned&&s.s.push([e.id,e.sc,e.owned])})}),this.axios.post("/tracker/save",s).then(s=>this.$store.dispatch("addMessage",{message:"Collection saved successfully"})).catch(s=>this.$store.dispatch("addAxiosErrorMessage",s))}},openInWiki(){let s={c:["","",""],s:["","",""]},e={c:[{},{},{}],s:[{},{},{}]};this.characters.flat().forEach(s=>{if(!0===s.owned){const t=s.id.toString(),a=t.slice(2,3)+t.slice(4);if(4===a.length){const t=s.ri,o=parseInt(a.slice(1),10);e.c[t][o]=parseInt(Math.min(s.sc,6),10)+1}}}),this.summons.flat().forEach(s=>{if(!0===s.owned){const t=s.id.toString(),a=t.slice(2,3)+t.slice(4);if(4===a.length){const t=s.ri,o=parseInt(a.slice(1),10);e.s[t][o]=parseInt(s.sc,10)+1}}}),["c","s"].forEach(t=>{[0,1,2].forEach(a=>{let r=0;const n=e[t][a];for(let s in n)r=Math.max(r,s);const c=Math.floor(r/8)+1;let i=new Uint8Array(3*c);for(let s=0;s<=Math.floor(r/8);s++){let e=0;for(let t=0;t<8;t++){let a=n[8*s+t];null==a&&(a=0),e|=a<<3*t}i[3*s]=255&e,i[3*s+1]=e>>8&255,i[3*s+2]=e>>16&255}const l=o.fromByteArray(i);"AAAA"!=l&&(s[t][a]+=l)})});const t="https://gbf.wiki/Collection_Tracker#o3."+s.c[2]+"."+s.c[1]+"."+s.c[0]+"."+s.s[2]+"."+s.s[1]+"."+s.s[0];window.open(t)},shareCollection(){const s=window.location.href+"/"+this.$store.getters.getUserId;this.clipboard_text=s;let e=this;this.$nextTick().then(()=>{document.getElementById("clipboardInput").select(),document.execCommand("copy"),e.clipboard_text="",e.$store.dispatch("addMessage",{message:"URL copied to clipboard"})})},loadCollection(){let s="";return s=this.isOwnCollection?this.$store.getters.getUserId:this.$route.params.collection_id,this.$store.dispatch("collection/fetchCollection",s)},loadWikiCollection(s){let e=new Map,t=s.split("#");t=1==t.length?t[0]:t[1];let a=t.split(".");for(let s=1;s<=7;s++)"string"!=typeof a[s]&&(a[s]="");const r={302e4:a[3],303e4:a[2],304e4:a[1],202e4:a[6],203e4:a[5],204e4:a[4]};if(a[1].length+a[2].length+a[3].length+a[4].length+a[5].length+a[6].length<1)this.$store.dispatch("addMessage",{title:"Error",message:"Invalid wiki collection URL"});else{for(let[s,t]of Object.entries(r)){if(t.length<1)continue;let a=o.toByteArray(t),r=a.length/3;for(let t=0;t<r;t++){let o=0;o|=0|a[3*t],o|=a[3*t+1]<<8,o|=a[3*t+2]<<16;for(let a=0;a<8;a++){let r=(o>>3*a&7)-1;if(r<0)continue;let n=parseInt(s,10)+(8*t+a);e.set(n,r)}}}this.characters.flat().forEach(s=>{const t=e.get(s.id);void 0!==t?(s.owned=!0,s.sc=t):!0===s.owned&&(s.owned=!1)}),this.summons.flat().forEach(s=>{const t=e.get(s.id);void 0!==t?(s.owned=!0,s.sc=t):!0===s.owned&&(s.owned=!1)}),this.modification=!0}}},computed:{...(0,a.mapState)("collection",["characters","chara_count","chara_total","summons","summon_count","summon_total"]),MAX_AWAKENING:()=>9,getFilters:()=>g.filter(s=>s.isFilter),filtersActive(){return Object.values(this.chara_show).some(s=>!s)||Object.values(this.summon_show).some(s=>!s)},isOwnCollection(){return void 0===this.$route.params.collection_id},isLangEnglish(){return this.$store.getters.getLang===c.Y.EN},getCharacters(){if(this.characters){const s=v(),e=this.characters.map(e=>e.filter(e=>{if(!this.chara_show.hasOwnProperty(e.d))return console.log("Unknown Character category "+e.d+". Please report this error to the administrator."),!0;if(!this.chara_show[e.d])return!1;const t=this.getFilters.every(s=>this.data_model[s.key].show(e[s.key]));return t&&this.showCharacters&&this.getFilters.forEach(t=>{this.data_model[t.key].add(e[t.key],s[t.key])}),t}));return this.$set(this.data_count,0,s),e}return[[],[],[],[],[],[],[]]},getSummons(){if(this.summons){const s=v(),e=this.summons.map(e=>e.filter(e=>{const t=this.getFilters.every(s=>void 0===e[s.key]||(this.summon_show.hasOwnProperty(e.d)?!!this.summon_show[e.d]&&this.data_model[s.key].show(e[s.key]):(console.log("Unknown Summon category "+e.d+". Please report this error to the administrator."),!0)));return t&&this.showSummons&&this.getFilters.forEach(t=>{void 0!==e[t.key]&&this.data_model[t.key].add(e[t.key],s[t.key])}),t}));return this.$set(this.data_count,1,s),e}return[[],[],[],[],[],[],[]]},getUnits(){return[this.getCharacters,this.getSummons]}},serverPrefetch(){return this.loadCollection()},async mounted(){p.getValue(this,"showNames"),p.getValue(this,"showStars"),p.getValue(this,"showAwakening"),p.getValue(this,"showRings"),p.getValue(this,"showCharacters"),p.getValue(this,"showSummons");const s=p.fetchValue("chara_show");if(void 0!==s)for(const[e,t]of Object.entries(s))this.chara_show.hasOwnProperty(e)&&(this.chara_show[e]=t);const e=p.fetchValue("summon_show");if(void 0!==e)for(const[s,t]of Object.entries(e))this.summon_show.hasOwnProperty(s)&&(this.summon_show[s]=t);[0,1].forEach(s=>{const e=p.fetchValue("owned-"+s);void 0!==e&&this.$set(this.data_model.owned.data[s],"checked",e);const t=p.fetchValue("ring-"+s);void 0!==t&&this.$set(this.data_model.ring.data[s],"checked",t)}),await this.loadCollection().then(s=>this.loading=!1)},watch:{"$store.getters.getUserId"(s){null===s?this.$router.push({name:"collection401"}).catch(()=>{}):(Object.assign(this.$data,f()),this.loadCollection().then(s=>this.loading=!1))},$route(s,e){Object.assign(this.$data,f()),this.loadCollection().then(s=>this.loading=!1)},chara_show:{handler(){p.setValue("chara_show",this)},deep:!0},summon_show:{handler(){p.setValue("summon_show",this)},deep:!0},"data_model.owned.data":{handler(){p.setNamedValue("owned-0",this.data_model.owned.data[0].checked),p.setNamedValue("owned-1",this.data_model.owned.data[1].checked)},deep:!0},"data_model.ring.data":{handler(){p.setNamedValue("ring-0",this.data_model.ring.data[0].checked),p.setNamedValue("ring-1",this.data_model.ring.data[1].checked)},deep:!0},showNames(){p.setValue("showNames",this)},showStars(){p.setValue("showStars",this)},showAwakening(){p.setValue("showAwakening",this)},showRings(){p.setValue("showRings",this)}}},k=(0,_.A)(y,function(){var s=this,e=s._self._c;return e("div",[s.isOwnCollection?e("div",{staticClass:"flex flex-row flex-wrap gap-2 items-center mb-4"},[e("button",{staticClass:"btn btn-blue",on:{click:function(e){s.show_modal_url=!0}}},[e("fa-icon",{staticClass:"text-xl",attrs:{icon:["fas","folder-open"]}}),s._v(" Load Wiki collection ")],1),e("button",{staticClass:"btn btn-blue",on:{click:function(e){return s.openInWiki()}}},[e("fa-icon",{staticClass:"text-xl",attrs:{icon:["fas","external-link-alt"]}}),s._v(" Open in Wiki ")],1),e("button",{staticClass:"btn btn-blue",on:{click:function(e){return s.shareCollection()}}},[e("fa-icon",{staticClass:"text-xl",attrs:{icon:["fas","share-alt"]}}),s._v(" Share ")],1),e("button",{staticClass:"btn btn-blue",attrs:{disabled:!s.modification},on:{click:function(e){return s.saveCollection()}}},[e("fa-icon",{staticClass:"text-xl",attrs:{icon:["fas","save"]}}),s._v(" Save changes ")],1),e("button",{staticClass:"btn",class:s.editRings?"btn-red":"btn-blue",on:{click:function(e){s.editRings=!s.editRings}}},[e("fa-icon",{staticClass:"text-xl",attrs:{icon:["fas","ring"]}}),s._v(" Edit rings ")],1)]):s._e(),e("div",{staticClass:"flex flex-row flex-wrap items-center gap-2 mb-4"},[s._l(s.getFilters,function(t){return e("data-filter",{key:t.name,attrs:{category:t.name,count:s.data_count[0][t.key].map((e,a)=>e+s.data_count[1][t.key][a]),data:s.data_model[t.key].data,hasAll:t.hasAll}})}),e("div",{staticClass:"flex flex-row flex-wrap items-center btn-group"},[e("span",{staticClass:"mr-2"},[s._v("Show")]),e("button",{staticClass:"btn btn-sm",class:s.showCharacters?"btn-blue":"btn-white",on:{click:function(e){return s.setShowCharacters()}}},[s._v("Characters")]),e("button",{staticClass:"btn btn-sm",class:s.showSummons?"btn-blue":"btn-white",on:{click:function(e){return s.setShowSummons()}}},[s._v("Summons")])]),e("checkbox",{model:{value:s.showNames,callback:function(e){s.showNames=e},expression:"showNames"}},[s._v("Show names")]),e("checkbox",{model:{value:s.showStars,callback:function(e){s.showStars=e},expression:"showStars"}},[s._v("Show stars")]),e("checkbox",{model:{value:s.showAwakening,callback:function(e){s.showAwakening=e},expression:"showAwakening"}},[s._v("Show awakening")]),e("checkbox",{model:{value:s.showRings,callback:function(e){s.showRings=e},expression:"showRings"}},[s._v("Show rings")])],2),e("div",{staticClass:"flex flex-col items-start mb-8"},[e("a",{staticClass:"btn-blue rounded-t font-bold hover:text-primary cursor-pointer p-2",class:s.showStats?"":"rounded-b",attrs:{title:"Click to toggle..."},on:{click:function(e){s.showStats=!s.showStats}}},[s._v(" Collection statistics "+s._s(s.filtersActive?"(filters active)":"")+" "),s.showStats?e("fa-icon",{staticClass:"ml-2",attrs:{icon:["fas","angle-down"]}}):e("fa-icon",{staticClass:"ml-2",attrs:{icon:["fas","angle-right"]}})],1),s.showStats?e("div",{staticClass:"flex flex-row flex-wrap p-2 bg-secondary"},[e("div",{staticClass:"flex flex-col mx-4"},[e("span",{staticClass:"mb-2"},[s._v("Characters "),e("span",{staticClass:"tag text-inverse bg-inverse"},[s._v(s._s(s.chara_count.sum)+"/"+s._s(s.chara_total.sum))])]),e("ul",{staticClass:"list-disc ml-4"},[e("li",{staticClass:"mb-2"},[s._v("Gacha "),e("ul",[e("li",[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:s.chara_show[1e3],expression:"chara_show[1000]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(s.chara_show[1e3])?s._i(s.chara_show[1e3],null)>-1:s.chara_show[1e3]},on:{change:function(e){var t=s.chara_show[1e3],a=e.target,o=!!a.checked;if(Array.isArray(t)){var r=s._i(t,null);a.checked?r<0&&s.$set(s.chara_show,1e3,t.concat([null])):r>-1&&s.$set(s.chara_show,1e3,t.slice(0,r).concat(t.slice(r+1)))}else s.$set(s.chara_show,1e3,o)}}}),s._v(" Premium Draw")]),e("span",{staticClass:"tag bg-primary"},[s._v(s._s(s.chara_count[1e3])+"/"+s._s(s.chara_total[1e3]))])]),e("li",[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:s.chara_show[500],expression:"chara_show[500]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(s.chara_show[500])?s._i(s.chara_show[500],null)>-1:s.chara_show[500]},on:{change:function(e){var t=s.chara_show[500],a=e.target,o=!!a.checked;if(Array.isArray(t)){var r=s._i(t,null);a.checked?r<0&&s.$set(s.chara_show,500,t.concat([null])):r>-1&&s.$set(s.chara_show,500,t.slice(0,r).concat(t.slice(r+1)))}else s.$set(s.chara_show,500,o)}}}),s._v(" Classic Draw")]),e("span",{staticClass:"tag bg-primary"},[s._v(s._s(s.chara_count[500])+"/"+s._s(s.chara_total[500]))])]),e("li",[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:s.chara_show[600],expression:"chara_show[600]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(s.chara_show[600])?s._i(s.chara_show[600],null)>-1:s.chara_show[600]},on:{change:function(e){var t=s.chara_show[600],a=e.target,o=!!a.checked;if(Array.isArray(t)){var r=s._i(t,null);a.checked?r<0&&s.$set(s.chara_show,600,t.concat([null])):r>-1&&s.$set(s.chara_show,600,t.slice(0,r).concat(t.slice(r+1)))}else s.$set(s.chara_show,600,o)}}}),s._v(" Classic Draw II")]),e("span",{staticClass:"tag bg-primary"},[s._v(s._s(s.chara_count[600])+"/"+s._s(s.chara_total[600]))])]),e("li",[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:s.chara_show[1010],expression:"chara_show[1010]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(s.chara_show[1010])?s._i(s.chara_show[1010],null)>-1:s.chara_show[1010]},on:{change:function(e){var t=s.chara_show[1010],a=e.target,o=!!a.checked;if(Array.isArray(t)){var r=s._i(t,null);a.checked?r<0&&s.$set(s.chara_show,1010,t.concat([null])):r>-1&&s.$set(s.chara_show,1010,t.slice(0,r).concat(t.slice(r+1)))}else s.$set(s.chara_show,1010,o)}}}),s._v(" Valentine")]),e("span",{staticClass:"tag bg-primary"},[s._v(s._s(s.chara_count[1010])+"/"+s._s(s.chara_total[1010]))])]),e("li",[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:s.chara_show[1020],expression:"chara_show[1020]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(s.chara_show[1020])?s._i(s.chara_show[1020],null)>-1:s.chara_show[1020]},on:{change:function(e){var t=s.chara_show[1020],a=e.target,o=!!a.checked;if(Array.isArray(t)){var r=s._i(t,null);a.checked?r<0&&s.$set(s.chara_show,1020,t.concat([null])):r>-1&&s.$set(s.chara_show,1020,t.slice(0,r).concat(t.slice(r+1)))}else s.$set(s.chara_show,1020,o)}}}),s._v(" Holiday")]),e("span",{staticClass:"tag bg-primary"},[s._v(s._s(s.chara_count[1020])+"/"+s._s(s.chara_total[1020]))])]),e("li",[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:s.chara_show[1030],expression:"chara_show[1030]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(s.chara_show[1030])?s._i(s.chara_show[1030],null)>-1:s.chara_show[1030]},on:{change:function(e){var t=s.chara_show[1030],a=e.target,o=!!a.checked;if(Array.isArray(t)){var r=s._i(t,null);a.checked?r<0&&s.$set(s.chara_show,1030,t.concat([null])):r>-1&&s.$set(s.chara_show,1030,t.slice(0,r).concat(t.slice(r+1)))}else s.$set(s.chara_show,1030,o)}}}),s._v(" Summer")]),e("span",{staticClass:"tag bg-primary"},[s._v(s._s(s.chara_count[1030])+"/"+s._s(s.chara_total[1030]))])]),e("li",[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:s.chara_show[1040],expression:"chara_show[1040]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(s.chara_show[1040])?s._i(s.chara_show[1040],null)>-1:s.chara_show[1040]},on:{change:function(e){var t=s.chara_show[1040],a=e.target,o=!!a.checked;if(Array.isArray(t)){var r=s._i(t,null);a.checked?r<0&&s.$set(s.chara_show,1040,t.concat([null])):r>-1&&s.$set(s.chara_show,1040,t.slice(0,r).concat(t.slice(r+1)))}else s.$set(s.chara_show,1040,o)}}}),s._v(" Halloween")]),e("span",{staticClass:"tag bg-primary"},[s._v(s._s(s.chara_count[1040])+"/"+s._s(s.chara_total[1040]))])]),e("li",[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:s.chara_show[1050],expression:"chara_show[1050]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(s.chara_show[1050])?s._i(s.chara_show[1050],null)>-1:s.chara_show[1050]},on:{change:function(e){var t=s.chara_show[1050],a=e.target,o=!!a.checked;if(Array.isArray(t)){var r=s._i(t,null);a.checked?r<0&&s.$set(s.chara_show,1050,t.concat([null])):r>-1&&s.$set(s.chara_show,1050,t.slice(0,r).concat(t.slice(r+1)))}else s.$set(s.chara_show,1050,o)}}}),s._v(" Zodiac")]),e("span",{staticClass:"tag bg-primary"},[s._v(s._s(s.chara_count[1050])+"/"+s._s(s.chara_total[1050]))])]),e("li",[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:s.chara_show[1500],expression:"chara_show[1500]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(s.chara_show[1500])?s._i(s.chara_show[1500],null)>-1:s.chara_show[1500]},on:{change:function(e){var t=s.chara_show[1500],a=e.target,o=!!a.checked;if(Array.isArray(t)){var r=s._i(t,null);a.checked?r<0&&s.$set(s.chara_show,1500,t.concat([null])):r>-1&&s.$set(s.chara_show,1500,t.slice(0,r).concat(t.slice(r+1)))}else s.$set(s.chara_show,1500,o)}}}),s._v(" Flash Gala")]),e("span",{staticClass:"tag bg-primary"},[s._v(s._s(s.chara_count[1500])+"/"+s._s(s.chara_total[1500]))])]),e("li",[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:s.chara_show[1600],expression:"chara_show[1600]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(s.chara_show[1600])?s._i(s.chara_show[1600],null)>-1:s.chara_show[1600]},on:{change:function(e){var t=s.chara_show[1600],a=e.target,o=!!a.checked;if(Array.isArray(t)){var r=s._i(t,null);a.checked?r<0&&s.$set(s.chara_show,1600,t.concat([null])):r>-1&&s.$set(s.chara_show,1600,t.slice(0,r).concat(t.slice(r+1)))}else s.$set(s.chara_show,1600,o)}}}),s._v(" Premium Gala")]),e("span",{staticClass:"tag bg-primary"},[s._v(s._s(s.chara_count[1600])+"/"+s._s(s.chara_total[1600]))])])])]),e("li",{staticClass:"mb-2"},[s._v("Non-gacha "),e("ul",[e("li",[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:s.chara_show[10],expression:"chara_show[10]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(s.chara_show[10])?s._i(s.chara_show[10],null)>-1:s.chara_show[10]},on:{change:function(e){var t=s.chara_show[10],a=e.target,o=!!a.checked;if(Array.isArray(t)){var r=s._i(t,null);a.checked?r<0&&s.$set(s.chara_show,10,t.concat([null])):r>-1&&s.$set(s.chara_show,10,t.slice(0,r).concat(t.slice(r+1)))}else s.$set(s.chara_show,10,o)}}}),s._v(" Eternals")]),e("span",{staticClass:"tag bg-primary"},[s._v(s._s(s.chara_count[10])+"/"+s._s(s.chara_total[10]))])]),e("li",[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:s.chara_show[20],expression:"chara_show[20]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(s.chara_show[20])?s._i(s.chara_show[20],null)>-1:s.chara_show[20]},on:{change:function(e){var t=s.chara_show[20],a=e.target,o=!!a.checked;if(Array.isArray(t)){var r=s._i(t,null);a.checked?r<0&&s.$set(s.chara_show,20,t.concat([null])):r>-1&&s.$set(s.chara_show,20,t.slice(0,r).concat(t.slice(r+1)))}else s.$set(s.chara_show,20,o)}}}),s._v(" Evokers")]),e("span",{staticClass:"tag bg-primary"},[s._v(s._s(s.chara_count[20])+"/"+s._s(s.chara_total[20]))])]),e("li",[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:s.chara_show.null,expression:"chara_show[null]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(s.chara_show.null)?s._i(s.chara_show.null,null)>-1:s.chara_show.null},on:{change:function(e){var t=s.chara_show.null,a=e.target,o=!!a.checked;if(Array.isArray(t)){var r=s._i(t,null);a.checked?r<0&&s.$set(s.chara_show,null,t.concat([null])):r>-1&&s.$set(s.chara_show,null,t.slice(0,r).concat(t.slice(r+1)))}else s.$set(s.chara_show,null,o)}}}),s._v(" Others")]),e("span",{staticClass:"tag bg-primary"},[s._v(s._s(s.chara_count.null)+"/"+s._s(s.chara_total.null))])])])])])]),e("div",{staticClass:"flex flex-col mx-4"},[e("span",{staticClass:"mb-2"},[s._v("Summons "),e("span",{staticClass:"tag text-inverse bg-inverse"},[s._v(s._s(s.summon_count.sum)+"/"+s._s(s.summon_total.sum))])]),e("ul",{staticClass:"list-disc ml-4"},[e("li",{staticClass:"mb-2"},[s._v("Gacha "),e("ul",[e("li",[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:s.summon_show[1e3],expression:"summon_show[1000]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(s.summon_show[1e3])?s._i(s.summon_show[1e3],null)>-1:s.summon_show[1e3]},on:{change:function(e){var t=s.summon_show[1e3],a=e.target,o=!!a.checked;if(Array.isArray(t)){var r=s._i(t,null);a.checked?r<0&&s.$set(s.summon_show,1e3,t.concat([null])):r>-1&&s.$set(s.summon_show,1e3,t.slice(0,r).concat(t.slice(r+1)))}else s.$set(s.summon_show,1e3,o)}}}),s._v(" Premium Draw")]),e("span",{staticClass:"tag bg-primary"},[s._v(s._s(s.summon_count[1e3])+"/"+s._s(s.summon_total[1e3]))])]),e("li",[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:s.summon_show[500],expression:"summon_show[500]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(s.summon_show[500])?s._i(s.summon_show[500],null)>-1:s.summon_show[500]},on:{change:function(e){var t=s.summon_show[500],a=e.target,o=!!a.checked;if(Array.isArray(t)){var r=s._i(t,null);a.checked?r<0&&s.$set(s.summon_show,500,t.concat([null])):r>-1&&s.$set(s.summon_show,500,t.slice(0,r).concat(t.slice(r+1)))}else s.$set(s.summon_show,500,o)}}}),s._v(" Classic Draw")]),e("span",{staticClass:"tag bg-primary"},[s._v(s._s(s.summon_count[500])+"/"+s._s(s.summon_total[500]))])]),e("li",[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:s.summon_show[600],expression:"summon_show[600]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(s.summon_show[600])?s._i(s.summon_show[600],null)>-1:s.summon_show[600]},on:{change:function(e){var t=s.summon_show[600],a=e.target,o=!!a.checked;if(Array.isArray(t)){var r=s._i(t,null);a.checked?r<0&&s.$set(s.summon_show,600,t.concat([null])):r>-1&&s.$set(s.summon_show,600,t.slice(0,r).concat(t.slice(r+1)))}else s.$set(s.summon_show,600,o)}}}),s._v(" Classic Draw II")]),e("span",{staticClass:"tag bg-primary"},[s._v(s._s(s.summon_count[600])+"/"+s._s(s.summon_total[600]))])]),e("li",[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:s.summon_show[1020],expression:"summon_show[1020]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(s.summon_show[1020])?s._i(s.summon_show[1020],null)>-1:s.summon_show[1020]},on:{change:function(e){var t=s.summon_show[1020],a=e.target,o=!!a.checked;if(Array.isArray(t)){var r=s._i(t,null);a.checked?r<0&&s.$set(s.summon_show,1020,t.concat([null])):r>-1&&s.$set(s.summon_show,1020,t.slice(0,r).concat(t.slice(r+1)))}else s.$set(s.summon_show,1020,o)}}}),s._v(" Holiday")]),e("span",{staticClass:"tag bg-primary"},[s._v(s._s(s.summon_count[1020])+"/"+s._s(s.summon_total[1020]))])]),e("li",[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:s.summon_show[1030],expression:"summon_show[1030]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(s.summon_show[1030])?s._i(s.summon_show[1030],null)>-1:s.summon_show[1030]},on:{change:function(e){var t=s.summon_show[1030],a=e.target,o=!!a.checked;if(Array.isArray(t)){var r=s._i(t,null);a.checked?r<0&&s.$set(s.summon_show,1030,t.concat([null])):r>-1&&s.$set(s.summon_show,1030,t.slice(0,r).concat(t.slice(r+1)))}else s.$set(s.summon_show,1030,o)}}}),s._v(" Summer")]),e("span",{staticClass:"tag bg-primary"},[s._v(s._s(s.summon_count[1030])+"/"+s._s(s.summon_total[1030]))])]),e("li",[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:s.summon_show[1600],expression:"summon_show[1600]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(s.summon_show[1600])?s._i(s.summon_show[1600],null)>-1:s.summon_show[1600]},on:{change:function(e){var t=s.summon_show[1600],a=e.target,o=!!a.checked;if(Array.isArray(t)){var r=s._i(t,null);a.checked?r<0&&s.$set(s.summon_show,1600,t.concat([null])):r>-1&&s.$set(s.summon_show,1600,t.slice(0,r).concat(t.slice(r+1)))}else s.$set(s.summon_show,1600,o)}}}),s._v(" Non-ticketable")]),e("span",{staticClass:"tag bg-primary"},[s._v(s._s(s.summon_count[1600])+"/"+s._s(s.summon_total[1600]))])])])]),e("li",{staticClass:"mb-2"},[s._v("Non-gacha "),e("ul",[e("li",[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:s.summon_show[20],expression:"summon_show[20]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(s.summon_show[20])?s._i(s.summon_show[20],null)>-1:s.summon_show[20]},on:{change:function(e){var t=s.summon_show[20],a=e.target,o=!!a.checked;if(Array.isArray(t)){var r=s._i(t,null);a.checked?r<0&&s.$set(s.summon_show,20,t.concat([null])):r>-1&&s.$set(s.summon_show,20,t.slice(0,r).concat(t.slice(r+1)))}else s.$set(s.summon_show,20,o)}}}),s._v(" Arcarum")]),e("span",{staticClass:"tag bg-primary"},[s._v(s._s(s.summon_count[20])+"/"+s._s(s.summon_total[20]))])]),e("li",[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:s.summon_show.null,expression:"summon_show[null]"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(s.summon_show.null)?s._i(s.summon_show.null,null)>-1:s.summon_show.null},on:{change:function(e){var t=s.summon_show.null,a=e.target,o=!!a.checked;if(Array.isArray(t)){var r=s._i(t,null);a.checked?r<0&&s.$set(s.summon_show,null,t.concat([null])):r>-1&&s.$set(s.summon_show,null,t.slice(0,r).concat(t.slice(r+1)))}else s.$set(s.summon_show,null,o)}}}),s._v(" Others")]),e("span",{staticClass:"tag bg-primary"},[s._v(s._s(s.summon_count.null)+"/"+s._s(s.summon_total.null))])])])])])])]):s._e()]),s.editRings?e("div",{staticClass:"sticky top-0 bg-tertiary shadow-md z-10 mb-4 flex flex-row justify-between items-center"},[e("span"),e("h2",[e("fa-icon",{staticClass:"text-xl text-red-400",attrs:{icon:["fas","ring"]}}),s._v(" Editing Purity rings "),e("fa-icon",{staticClass:"text-xl text-red-400",attrs:{icon:["fas","ring"]}})],1),e("button",{staticClass:"btn btn-red",on:{click:function(e){s.editRings=!1}}},[s._v(" Stop editing ")])]):s._e(),!0===s.loading?e("div",[s._v(" Loading... ")]):e("div",s._l(7,function(t){return e("div",{key:t,class:s.getUnits[0][t-1].length>0||s.getUnits[1][t-1].length>0?"mb-4":""},[s.showCharacters?e("div",{staticClass:"flex flex-row flex-wrap"},s._l(s.getUnits[0][t-1],function(t){return e("span",{key:t.id,staticClass:"flex flex-col",staticStyle:{width:"105px"}},[s.showNames?e("a",{staticClass:"text-xs text-primary h-5 px-1 text-center truncate",attrs:{target:"_blank",href:"https://gbf.wiki/"+t.n,title:s.getName(t)}},[s._v(s._s(s.getName(t)))]):s._e(),e("span",{staticClass:"relative"},[e("img",{class:t.owned?"":"grayscale-80",staticStyle:{height:"60px"},attrs:{title:s.getName(t),src:"/img/unit_small/"+t.id+"000.jpg"},on:{click:function(e){return s.selectChara(t)}}}),s.showRings&&t.ring?e("img",{staticClass:"absolute bottom-0 right-0 pointer-events-none",attrs:{src:"/img/icon_pring.png",title:"Perpetuity Ring"}}):s._e()]),s.showStars?e("span",{staticStyle:{"min-height":"21px"},on:{click:function(e){return s.starsModified()}}},[t.owned?e("stars-line",{attrs:{base:t.sb,extra:t.sm,current:t.sc,max:5,readOnly:!s.isOwnCollection,transcendance:!0},on:{"update:current":function(e){return s.$set(t,"sc",e)}}}):s._e()],1):s._e(),s.showAwakening&&t.owned?e("span",{staticClass:"text-sm pb-2 pl-1",on:{click:function(e){return s.starsModified()}}},[e("stat-input",{class:t.aw==s.MAX_AWAKENING?"text-link-primary":"",attrs:{shortName:"Awake",longName:"Awakening",prop:t.aw,length:1,max:s.MAX_AWAKENING},on:{"update:prop":function(e){return s.$set(t,"aw",e)}}}),t.aw<s.MAX_AWAKENING?e("fa-icon",{staticClass:"ml-1 cursor-pointer",attrs:{icon:["fas","check"],title:"Maximize awakening"},on:{click:function(e){t.aw=s.MAX_AWAKENING}}}):s._e()],1):s._e()])}),0):s._e(),s.showSummons?e("div",{staticClass:"flex flex-row flex-wrap"},s._l(s.getUnits[1][t-1],function(t){return e("span",{key:t.id,staticClass:"flex flex-col",staticStyle:{width:"105px"}},[s.showNames?e("a",{staticClass:"text-xs text-primary h-5 px-1 text-center truncate",attrs:{target:"_blank",href:"https://gbf.wiki/"+t.n,title:s.getName(t)}},[s._v(s._s(s.getName(t)))]):s._e(),e("img",{class:t.owned?"":"grayscale-80",staticStyle:{height:"60px"},attrs:{title:s.getName(t),src:"/img/unit_small/"+t.id+"000.jpg"},on:{click:function(e){return s.selectSummon(t)}}}),s.showStars?e("span",{staticStyle:{"min-height":"21px"},on:{click:function(e){return s.starsModified()}}},[t.owned?e("stars-line",{attrs:{base:t.sb,extra:t.sm,current:t.sc,max:5,readOnly:!s.isOwnCollection,transcendance:!0},on:{"update:current":function(e){return s.$set(t,"sc",e)}}}):s._e()],1):s._e()])}),0):s._e()])}),0),e("input",{directives:[{name:"show",rawName:"v-show",value:s.clipboard_text.length>0,expression:"clipboard_text.length > 0"}],attrs:{id:"clipboardInput",readonly:"",type:"text"},domProps:{value:s.clipboard_text}}),e("modal-url",{on:{import:s.loadWikiCollection},model:{value:s.show_modal_url,callback:function(e){s.show_modal_url=e},expression:"show_modal_url"}})],1)},[],!1,null,null,null).exports},3728(s,e){e.byteLength=function(s){var e=c(s),t=e[0],a=e[1];return 3*(t+a)/4-a},e.toByteArray=function(s){for(var e,t=c(s),r=t[0],n=t[1],i=new o(function(s,e,t){return 3*(e+t)/4-t}(0,r,n)),l=0,h=n>0?r-4:r,u=0;u<h;u+=4)e=a[s.charCodeAt(u)]<<18|a[s.charCodeAt(u+1)]<<12|a[s.charCodeAt(u+2)]<<6|a[s.charCodeAt(u+3)],i[l++]=e>>16&255,i[l++]=e>>8&255,i[l++]=255&e;return 2===n&&(e=a[s.charCodeAt(u)]<<2|a[s.charCodeAt(u+1)]>>4,i[l++]=255&e),1===n&&(e=a[s.charCodeAt(u)]<<10|a[s.charCodeAt(u+1)]<<4|a[s.charCodeAt(u+2)]>>2,i[l++]=e>>8&255,i[l++]=255&e),i},e.fromByteArray=function(s){for(var e,a=s.length,o=a%3,r=[],n=16383,c=0,i=a-o;c<i;c+=n)r.push(l(s,c,c+n>i?i:c+n));return 1===o?(e=s[a-1],r.push(t[e>>2]+t[e<<4&63]+"==")):2===o&&(e=(s[a-2]<<8)+s[a-1],r.push(t[e>>10]+t[e>>4&63]+t[e<<2&63]+"=")),r.join("")};for(var t=[],a=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=0;n<64;++n)t[n]=r[n],a[r.charCodeAt(n)]=n;function c(s){var e=s.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=s.indexOf("=");return-1===t&&(t=e),[t,t===e?0:4-t%4]}function i(s){return t[s>>18&63]+t[s>>12&63]+t[s>>6&63]+t[63&s]}function l(s,e,t){for(var a,o=[],r=e;r<t;r+=3)a=(s[r]<<16&16711680)+(s[r+1]<<8&65280)+(255&s[r+2]),o.push(i(a));return o.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},6368(s,e,t){t.r(e),t.d(e,{default:()=>o});const a={head:{title:"Granblue.Party - Collection Tracker",desc:"Track the characters and summons you unlocked, and share your collection with your friends",image:"https://www.granblue.party/img/card_collection.jpg",keywords:"collection, tracker, characters, summons, share"},methods:{goToCollection(){null!==this.getUserId&&this.$router.push({name:"collection"}).catch(()=>{})}},computed:{getUserId(){return this.$store.getters.getUserId}},mounted(){this.goToCollection()},watch:{getUserId(s,e){this.goToCollection()}}},o=(0,t(4486).A)(a,function(){return this._self._c,this._m(0)},[function(){var s=this,e=s._self._c;return e("div",[e("h1",[s._v("My Collection")]),e("picture",[e("source",{attrs:{type:"image/webp",srcset:"/img/preview_collection.webp"}}),e("img",{attrs:{src:"/img/preview_collection.png"}})]),e("p",[s._v(' Create a free account to gain access to "My Collection". ')]),e("p",{staticClass:"pt-4"},[s._v(" Keep a list of your characters and summons and share it with your friends."),e("br"),s._v(" You can track the uncap and awakening level of each unit. ")])])}],!1,null,null,null).exports}}]);