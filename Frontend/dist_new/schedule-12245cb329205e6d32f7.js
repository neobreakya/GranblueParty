"use strict";(self.webpackChunkgbf_frontend=self.webpackChunkgbf_frontend||[]).push([[252],{3477(t,e,s){s.r(e),s.d(e,{default:()=>d});var a=s(9335),n=s(253),i=s(9204),r=s(217),o=s(951);const c={namespaced:!0,state:()=>({characters:[],summons:[]}),actions:{fetchCharacters({state:t,dispatch:e}){if(0===t.characters.length)return this.axios.get("/release/characters").then(e=>t.characters=e.data).catch(t=>e("addAxiosErrorMessage",t,{root:!0}))},fetchSummons({state:t,dispatch:e}){if(0===t.summons.length)return this.axios.get("/release/summons").then(e=>t.summons=e.data).catch(t=>e("addAxiosErrorMessage",t,{root:!0}))},makeDates({state:t}){t.characters.forEach(t=>{t.rd=new Date(t.rd)}),t.summons.forEach(t=>{t.rd=new Date(t.rd)})}}},l=(0,o.gq)("release",c);var h=s(8160);const u=[{name:"Name",isColumn:!0,isFilter:!1,key:"n"},{name:"Rarity",isColumn:!0,isFilter:!0,key:"ri"},{name:"Element",isColumn:!0,isFilter:!0,key:"e"}];function m(){let t=Object.fromEntries(u.map(t=>[t.key,i.A.copy(n.A[t.key])]));return Object.values(t.ri.data).forEach(t=>t.checked=!0),t}const _={components:{DataFilter:h.A},mixins:[l],head:{title:"Granblue.Party - Release Schedule",desc:"Take a look at every character and summoned already released, sorted by date",image:"https://www.granblue.party/img/card_release.jpg",keywords:"release, schedule, new units, new characters, new summons, gacha, event"},data:()=>({now:new Date,current_year:(new Date).getFullYear(),count_characters:0,count_summons:0,data_model:m(),show_characters:!0,show_summons:!0,show_obtain_premium:!0,show_obtain_classic:!0,show_obtain_classic2:!0,show_obtain_other:!0,loading:!0}),methods:{loadData(){return Promise.all([this.$store.dispatch("release/fetchCharacters"),this.$store.dispatch("release/fetchSummons")])},getName(t){return this.isLangEnglish?t.n:t.nj}},computed:{...(0,a.mapState)("release",["characters","summons"]),getYears(){let t=[];for(let e=this.now.getFullYear();e>=2014;e--)t.push(e);return t},getFilters:()=>u.filter(t=>t.isFilter),getRelease(){const t=new Map;let e=0,s=0;return this.show_characters&&this.characters.forEach(s=>{if(this.getFilters.every(t=>this.data_model[t.key].show(s[t.key]))&&(this.show_obtain_premium||!(s.d>=1e3))&&(this.show_obtain_classic||500!=s.d)&&(this.show_obtain_classic2||600!=s.d)&&(this.show_obtain_other||!(s.d<500))&&s.rd.getFullYear()===this.current_year){const a=s.rd.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit"});t.has(a)?t.get(a).push(s):t.set(a,[s]),e++}}),this.show_summons&&this.summons.forEach(e=>{if(this.getFilters.every(t=>this.data_model[t.key].show(e[t.key]))&&(this.show_obtain_premium||!(e.d>=1e3))&&(this.show_obtain_classic||500!=e.d)&&(this.show_obtain_classic2||600!=e.d)&&(this.show_obtain_other||!(e.d<500))&&e.rd.getFullYear()===this.current_year){const a=e.rd.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit"});t.has(a)?t.get(a).push(e):t.set(a,[e]),s++}}),this.count_characters=e,this.count_summons=s,[...t.entries()].sort((t,e)=>t[0]<e[0])},isLangEnglish(){return this.$store.getters.getLang===r.Y.EN}},serverPrefetch(){return this.loadData()},async mounted(){await this.loadData().then(t=>this.$store.dispatch("release/makeDates")).then(t=>this.loading=!1)}},d=(0,s(4486).A)(_,function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex flex-col"},[e("h1",{staticClass:"self-center mb-8"},[t._v("Release Schedule")]),!0===t.loading?e("div",[t._v(" Loading... ")]):e("div",{staticClass:"flex flex-col items-center"},[e("div",{staticClass:"flex flex-row flex-wrap items-center gap-4"},[t._l(t.getFilters,function(s){return e("data-filter",{key:s.name,attrs:{category:s.name,data:t.data_model[s.key].data}})}),e("div",{staticClass:"inline-flex flex-row flex-wrap items-center btn-group"},[e("span",{staticClass:"mr-2"},[t._v("Year")]),t._l(t.getYears,function(s,a){return e("button",{key:s,staticClass:"btn btn-sm",class:t.getYears[a]===t.current_year?"btn-blue":"btn-white",on:{click:function(e){t.current_year=s}}},[t._v(" "+t._s(s)+" ")])})],2),e("div",{staticClass:"inline-flex flex-row flex-wrap items-center btn-group"},[e("span",{staticClass:"mr-2"},[t._v("Obtain")]),e("button",{staticClass:"btn btn-sm",class:t.show_obtain_premium?"btn-blue":"btn-white",on:{click:function(e){t.show_obtain_premium=!t.show_obtain_premium}}},[t._v(" Premium Draw ")]),e("button",{staticClass:"btn btn-sm",class:t.show_obtain_classic?"btn-blue":"btn-white",on:{click:function(e){t.show_obtain_classic=!t.show_obtain_classic}}},[t._v(" Classic Draw ")]),e("button",{staticClass:"btn btn-sm",class:t.show_obtain_classic2?"btn-blue":"btn-white",on:{click:function(e){t.show_obtain_classic2=!t.show_obtain_classic2}}},[t._v(" Classic Draw II ")]),e("button",{staticClass:"btn btn-sm",class:t.show_obtain_other?"btn-blue":"btn-white",on:{click:function(e){t.show_obtain_other=!t.show_obtain_other}}},[t._v(" Other ")])]),e("div",{staticClass:"inline-flex flex-row flex-wrap items-center btn-group"},[e("span",{staticClass:"mr-2"},[t._v("Show")]),e("button",{staticClass:"btn btn-sm",class:t.show_characters?"btn-blue":"btn-white",on:{click:function(e){t.show_characters=!t.show_characters}}},[t._v(" Characters ")]),e("button",{staticClass:"btn btn-sm",class:t.show_summons?"btn-blue":"btn-white",on:{click:function(e){t.show_summons=!t.show_summons}}},[t._v(" Summons ")])])],2),e("div",{staticClass:"content mt-4 mb-8"},[e("h2",[t._v("Statistics:")]),t._v(" Characters: "+t._s(t.count_characters)),e("br"),t._v(" Summons: "+t._s(t.count_summons)+" ")]),e("div",{staticClass:"flex flex-row flex-wrap gap-2"},t._l(t.getRelease,function(s){return e("div",{key:s[0],staticClass:"flex flex-col p-2 bg-secondary rounded"},[e("span",{staticClass:"text-xl font-bold self-center"},[t._v(t._s(s[1][0].rd.toLocaleDateString("default",{month:"long",day:"numeric"})))]),e("div",{staticClass:"flex flex-row flex-wrap self-center"},t._l(s[1],function(s){return e("span",{key:s.id,staticClass:"flex flex-col",staticStyle:{width:"105px"}},[e("a",{staticClass:"text-xs text-primary h-5 px-1 text-center truncate",attrs:{target:"_blank",href:"https://gbf.wiki/"+s.n,title:t.getName(s)}},[t._v(t._s(t.getName(s)))]),e("img",{staticStyle:{height:"60px"},attrs:{title:t.getName(s),src:"/img/unit_small/"+s.id+"000.jpg"}})])}),0)])}),0)])])},[],!1,null,null,null).exports}}]);