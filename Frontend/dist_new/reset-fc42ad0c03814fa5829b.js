"use strict";(self.webpackChunkgbf_frontend=self.webpackChunkgbf_frontend||[]).push([[720],{3168(s,e,t){t.r(e),t.d(e,{default:()=>i});var a=t(9204);const r={head:{title:"Granblue.Party - Reset your password"},data:()=>({email:"",token:"",captcha:!1,error_message:""}),methods:{resetPassword(){const s={email:this.email,token:this.token,password:this.$refs.password.value,captcha:this.captcha};if(this.error_message="",this.$refs.password.value!=this.$refs.password2.value)return this.error_message="Passwords don't match",this.$refs.password.value="",void(this.$refs.password2.value="");this.axios.post("/user/reset",s).then(s=>{this.$router.push({name:"home"}).then(s=>this.$store.commit("show_modal_login",!0)).catch(s=>{})}).catch(s=>this.$store.dispatch("addAxiosErrorMessage",s))}},mounted(){a.A.isEmpty(this.$route.query.t)||a.A.isEmpty(this.$route.query.e)?this.$router.push({name:"home"}).catch(()=>{}):(this.email=this.$route.query.e,this.token=this.$route.query.t)}},i=(0,t(4486).A)(r,function(){var s=this,e=s._self._c;return e("div",{staticClass:"flex flex-col items-center gap-y-8"},[e("h1",[s._v("Set a new password")]),e("form",{staticClass:"m-1",on:{submit:function(e){return e.preventDefault(),s.resetPassword()}}},[e("div",{staticClass:"mt-4"},[e("label",{attrs:{for:"email"}},[s._v("Email address")]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.email,expression:"email"}],staticClass:"input w-full",attrs:{id:"email",type:"email",placeholder:"Email address",disabled:""},domProps:{value:s.email},on:{input:function(e){e.target.composing||(s.email=e.target.value)}}})]),e("div",[e("label",{attrs:{for:"password"}},[s._v("Password")]),e("input",{ref:"password",staticClass:"input w-full",attrs:{id:"password",placeholder:"Password",type:"password",minlength:"1",required:"",autofocus:""}})]),e("div",{staticClass:"pb-2"},[e("label",{attrs:{for:"password2"}},[s._v("Confirm password")]),e("input",{ref:"password2",staticClass:"input w-full",attrs:{id:"password2",placeholder:"Password",type:"password",minlength:"1",required:""}})]),e("input",{directives:[{name:"model",rawName:"v-model",value:s.captcha,expression:"captcha"}],staticStyle:{display:"none !important"},attrs:{type:"checkbox",name:"captcha",tabindex:"-1",autocomplete:"off"},domProps:{checked:Array.isArray(s.captcha)?s._i(s.captcha,null)>-1:s.captcha},on:{change:function(e){var t=s.captcha,a=e.target,r=!!a.checked;if(Array.isArray(t)){var i=s._i(t,null);a.checked?i<0&&(s.captcha=t.concat([null])):i>-1&&(s.captcha=t.slice(0,i).concat(t.slice(i+1)))}else s.captcha=r}}}),s.error_message.length>0?e("p",[e("fa-icon",{staticClass:"text-red-400",attrs:{icon:["fas","exclamation-triangle"]}}),s._v(" "+s._s(s.error_message)+" ")],1):e("p",[s._v("Â ")]),e("input",{staticClass:"btn btn-blue mt-6",attrs:{type:"submit",value:"Change password"}})])])},[],!1,null,null,null).exports}}]);